{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":85},"end":{"line":6,"column":65,"index":150}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":151},"end":{"line":7,"column":40,"index":191}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":192},"end":{"line":8,"column":62,"index":254}}],"key":"/bohzyw2mCiLwBL1LhK3cj9dt4o=","exportNames":["*"],"imports":1}},{"name":"../services/beaconScanner","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":255},"end":{"line":14,"column":35,"index":379}}],"key":"BHEtprxFZbpJurUGq47L1Pm/D5Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":380},"end":{"line":23,"column":25,"index":514}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useBeaconScanner Hook\n   * React hook for iBeacon scanning and positioning\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useBeaconScanner = useBeaconScanner;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _storeAppStore = require(_dependencyMap[4], \"../store/appStore\");\n  var _servicesBeaconScanner = require(_dependencyMap[5], \"../services/beaconScanner\");\n  var _servicesApi = require(_dependencyMap[6], \"../services/api\");\n  function useBeaconScanner() {\n    _s();\n    // Scanner state\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      isScanning = _useState2[0],\n      setIsScanning = _useState2[1];\n    var _useState3 = (0, _react.useState)({\n        isScanning: false,\n        bluetoothEnabled: false,\n        permissionsGranted: false\n      }),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      scannerStatus = _useState4[0],\n      setScannerStatus = _useState4[1];\n    var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      scannedBeacons = _useState6[0],\n      setScannedBeacons = _useState6[1];\n\n    // Position state\n    var _useState7 = (0, _react.useState)(null),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      currentPosition = _useState8[0],\n      setCurrentPosition = _useState8[1];\n    var _useState9 = (0, _react.useState)(false),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      isPositioning = _useState0[0],\n      setIsPositioning = _useState0[1];\n    var _useState1 = (0, _react.useState)(null),\n      _useState10 = (0, _slicedToArray.default)(_useState1, 2),\n      positionError = _useState10[0],\n      setPositionError = _useState10[1];\n\n    // Navigation state\n    var _useState11 = (0, _react.useState)(null),\n      _useState12 = (0, _slicedToArray.default)(_useState11, 2),\n      navigationRoute = _useState12[0],\n      setNavigationRoute = _useState12[1];\n    var _useState13 = (0, _react.useState)(false),\n      _useState14 = (0, _slicedToArray.default)(_useState13, 2),\n      isNavigating = _useState14[0],\n      setIsNavigating = _useState14[1];\n\n    // Refs to track latest values in callbacks\n    var currentPositionRef = (0, _react.useRef)(null);\n    var setUserLocation = (0, _storeAppStore.useAppStore)(s => s.setUserLocation);\n    var setNavigationRouteStore = (0, _storeAppStore.useAppStore)(s => s.setNavigationRoute);\n\n    // Update ref when position changes\n    (0, _react.useEffect)(() => {\n      currentPositionRef.current = currentPosition;\n    }, [currentPosition]);\n\n    /**\n     * Handle incoming beacon data and compute position\n     */\n    var handleBeaconsFound = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (beacons) {\n        setScannedBeacons(beacons);\n        if (beacons.length === 0) {\n          return;\n        }\n        var strongest = beacons.reduce((best, current) => {\n          if (!best) return current;\n          var bestR = typeof best.avgRssi === 'number' ? best.avgRssi : best.rssi;\n          var curR = typeof current.avgRssi === 'number' ? current.avgRssi : current.rssi;\n          return curR > bestR ? current : best;\n        }, beacons[0]);\n        try {\n          setIsPositioning(true);\n          setPositionError(null);\n\n          // Use only the strongest beacon for a single-beacon lookup\n          var THRESHOLD = -75; // recommended RSSI threshold\n          var rssiValue = Math.round(strongest.avgRssi ?? strongest.rssi);\n          if (typeof rssiValue !== 'number' || rssiValue < THRESHOLD) {\n            setPositionError('No beacon with sufficient RSSI (threshold -75 dBm)');\n            return;\n          }\n          var macField = strongest.mac ?? strongest.observedAddress ?? strongest.advId ?? '';\n          if (!macField || macField.length === 0) {\n            setPositionError('Strongest beacon has no identifiable MAC/ID');\n            return;\n          }\n          var payload = [{\n            mac: macField,\n            rssi: rssiValue,\n            observedAddress: strongest.observedAddress,\n            advId: strongest.advId\n          }];\n          console.log('[Positioning] sending strongest beacon payload:', payload);\n          var position = yield _servicesApi.positioningApi.computePosition(payload);\n          if (position.valid) {\n            setCurrentPosition(position);\n\n            // Update global store user location so IndoorMapViewer and other components react\n            try {\n              var userLoc = {\n                building_id: position.buildingId,\n                floor_id: position.floorId,\n                x: position.x,\n                y: position.y,\n                source: 'beacon',\n                timestamp: new Date()\n              };\n              setUserLocation(userLoc);\n            } catch (e) {\n              console.warn('[useBeaconScanner] Failed to set user location in store', e);\n            }\n            console.log(`[useBeaconScanner] Position (from strongest beacon): (${position.x.toFixed(1)}, ${position.y.toFixed(1)}) on ${position.floorName}`);\n          } else {\n            setPositionError(position.errorMessage || 'Position computation failed');\n          }\n        } catch (error) {\n          console.error('[useBeaconScanner] Position error:', error);\n          setPositionError(error instanceof Error ? error.message : 'Unknown error');\n        } finally {\n          setIsPositioning(false);\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Handle scanner status changes\n     */\n    var handleStatusChange = (0, _react.useCallback)(status => {\n      setScannerStatus(status);\n      setIsScanning(status.isScanning);\n    }, []);\n\n    /**\n     * Start beacon scanning\n     */\n    var startScanning = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (options) {\n        if (_reactNative.Platform.OS === 'web') {\n          console.log('[useBeaconScanner] BLE not available on web');\n          setScannerStatus({\n            isScanning: false,\n            bluetoothEnabled: false,\n            permissionsGranted: false,\n            error: 'BLE scanning requires a physical Android device'\n          });\n          return false;\n        }\n        var success = yield _servicesBeaconScanner.beaconScanner.startScanning(handleBeaconsFound, handleStatusChange, options);\n        return success;\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [handleBeaconsFound, handleStatusChange]);\n\n    /**\n     * Stop beacon scanning\n     */\n    var stopScanning = (0, _react.useCallback)(() => {\n      _servicesBeaconScanner.beaconScanner.stopScanning();\n      setIsScanning(false);\n      setScannedBeacons([]);\n    }, []);\n\n    /**\n     * Navigate to a destination\n     */\n    var navigateTo = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (destX, destY) {\n        var position = currentPositionRef.current;\n        if (!position || !position.valid) {\n          console.error('[useBeaconScanner] Cannot navigate: no current position');\n          return null;\n        }\n        try {\n          setIsNavigating(true);\n          var request = {\n            buildingId: position.buildingId,\n            floorId: position.floorId,\n            startX: position.x,\n            startY: position.y,\n            destX,\n            destY\n          };\n          var route = yield _servicesApi.navigationApi.computeRoute(request);\n          setNavigationRoute(route);\n          // persist route to global store so map reads it\n          try {\n            setNavigationRouteStore(route);\n          } catch (e) {\n            console.warn('[useBeaconScanner] Failed to set navigation route in store', e);\n          }\n          console.log(`[useBeaconScanner] Navigation route: ${route.route.length} points, ${route.totalDistance.toFixed(1)} units`);\n          return route;\n        } catch (error) {\n          console.error('[useBeaconScanner] Navigation error:', error);\n          return null;\n        } finally {\n          setIsNavigating(false);\n        }\n      });\n      return function (_x3, _x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Clear navigation route\n     */\n    var clearNavigation = (0, _react.useCallback)(() => {\n      setNavigationRoute(null);\n    }, []);\n\n    /**\n     * Cleanup on unmount\n     */\n    (0, _react.useEffect)(() => {\n      return () => {\n        _servicesBeaconScanner.beaconScanner.stopScanning();\n      };\n    }, []);\n    return {\n      // Scanner state\n      isScanning,\n      scannerStatus,\n      scannedBeacons,\n      // Position state\n      currentPosition,\n      isPositioning,\n      positionError,\n      // Navigation state\n      navigationRoute,\n      isNavigating,\n      // Actions\n      startScanning,\n      stopScanning,\n      navigateTo,\n      clearNavigation\n    };\n  }\n  _s(useBeaconScanner, \"AjjM8Tt0lKG6OZEhSmATHcKFbMc=\", false, function () {\n    return [_storeAppStore.useAppStore, _storeAppStore.useAppStore];\n  });\n});","lineCount":272,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,48,0,"exports"],[17,9,48,0],[17,10,48,0,"useBeaconScanner"],[17,26,48,0],[17,29,48,0,"useBeaconScanner"],[17,45,48,0],[18,2,274,1],[18,6,274,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,274,1],[18,45,274,1,"require"],[18,52,274,1],[18,53,274,1,"_dependencyMap"],[18,67,274,1],[19,2,274,1],[19,6,274,1,"_asyncToGenerator"],[19,23,274,1],[19,26,274,1,"_interopDefault"],[19,41,274,1],[19,42,274,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,274,1],[20,2,274,1],[20,6,274,1,"_babelRuntimeHelpersSlicedToArray"],[20,39,274,1],[20,42,274,1,"require"],[20,49,274,1],[20,50,274,1,"_dependencyMap"],[20,64,274,1],[21,2,274,1],[21,6,274,1,"_slicedToArray"],[21,20,274,1],[21,23,274,1,"_interopDefault"],[21,38,274,1],[21,39,274,1,"_babelRuntimeHelpersSlicedToArray"],[21,72,274,1],[22,2,6,0],[22,6,6,0,"_react"],[22,12,6,0],[22,15,6,0,"require"],[22,22,6,0],[22,23,6,0,"_dependencyMap"],[22,37,6,0],[23,2,7,0],[23,6,7,0,"_reactNative"],[23,18,7,0],[23,21,7,0,"require"],[23,28,7,0],[23,29,7,0,"_dependencyMap"],[23,43,7,0],[24,2,8,0],[24,6,8,0,"_storeAppStore"],[24,20,8,0],[24,23,8,0,"require"],[24,30,8,0],[24,31,8,0,"_dependencyMap"],[24,45,8,0],[25,2,9,0],[25,6,9,0,"_servicesBeaconScanner"],[25,28,9,0],[25,31,9,0,"require"],[25,38,9,0],[25,39,9,0,"_dependencyMap"],[25,53,9,0],[26,2,15,0],[26,6,15,0,"_servicesApi"],[26,18,15,0],[26,21,15,0,"require"],[26,28,15,0],[26,29,15,0,"_dependencyMap"],[26,43,15,0],[27,2,48,7],[27,11,48,16,"useBeaconScanner"],[27,27,48,32,"useBeaconScanner"],[27,28,48,32],[27,30,48,59],[28,4,48,59,"_s"],[28,6,48,59],[29,4,49,2],[30,4,50,2],[30,8,50,2,"_useState"],[30,17,50,2],[30,20,50,38],[30,24,50,38,"useState"],[30,30,50,46],[30,31,50,46,"useState"],[30,39,50,46],[30,41,50,47],[30,46,50,52],[30,47,50,53],[31,6,50,53,"_useState2"],[31,16,50,53],[31,23,50,53,"_slicedToArray"],[31,37,50,53],[31,38,50,53,"default"],[31,45,50,53],[31,47,50,53,"_useState"],[31,56,50,53],[32,6,50,9,"isScanning"],[32,16,50,19],[32,19,50,19,"_useState2"],[32,29,50,19],[33,6,50,21,"setIsScanning"],[33,19,50,34],[33,22,50,34,"_useState2"],[33,32,50,34],[34,4,51,2],[34,8,51,2,"_useState3"],[34,18,51,2],[34,21,51,44],[34,25,51,44,"useState"],[34,31,51,52],[34,32,51,52,"useState"],[34,40,51,52],[34,42,51,74],[35,8,52,4,"isScanning"],[35,18,52,14],[35,20,52,16],[35,25,52,21],[36,8,53,4,"bluetoothEnabled"],[36,24,53,20],[36,26,53,22],[36,31,53,27],[37,8,54,4,"permissionsGranted"],[37,26,54,22],[37,28,54,24],[38,6,55,2],[38,7,55,3],[38,8,55,4],[39,6,55,4,"_useState4"],[39,16,55,4],[39,23,55,4,"_slicedToArray"],[39,37,55,4],[39,38,55,4,"default"],[39,45,55,4],[39,47,55,4,"_useState3"],[39,57,55,4],[40,6,51,9,"scannerStatus"],[40,19,51,22],[40,22,51,22,"_useState4"],[40,32,51,22],[41,6,51,24,"setScannerStatus"],[41,22,51,40],[41,25,51,40,"_useState4"],[41,35,51,40],[42,4,56,2],[42,8,56,2,"_useState5"],[42,18,56,2],[42,21,56,46],[42,25,56,46,"useState"],[42,31,56,54],[42,32,56,54,"useState"],[42,40,56,54],[42,42,56,72],[42,44,56,74],[42,45,56,75],[43,6,56,75,"_useState6"],[43,16,56,75],[43,23,56,75,"_slicedToArray"],[43,37,56,75],[43,38,56,75,"default"],[43,45,56,75],[43,47,56,75,"_useState5"],[43,57,56,75],[44,6,56,9,"scannedBeacons"],[44,20,56,23],[44,23,56,23,"_useState6"],[44,33,56,23],[45,6,56,25,"setScannedBeacons"],[45,23,56,42],[45,26,56,42,"_useState6"],[45,36,56,42],[47,4,58,2],[48,4,59,2],[48,8,59,2,"_useState7"],[48,18,59,2],[48,21,59,48],[48,25,59,48,"useState"],[48,31,59,56],[48,32,59,56,"useState"],[48,40,59,56],[48,42,59,82],[48,46,59,86],[48,47,59,87],[49,6,59,87,"_useState8"],[49,16,59,87],[49,23,59,87,"_slicedToArray"],[49,37,59,87],[49,38,59,87,"default"],[49,45,59,87],[49,47,59,87,"_useState7"],[49,57,59,87],[50,6,59,9,"currentPosition"],[50,21,59,24],[50,24,59,24,"_useState8"],[50,34,59,24],[51,6,59,26,"setCurrentPosition"],[51,24,59,44],[51,27,59,44,"_useState8"],[51,37,59,44],[52,4,60,2],[52,8,60,2,"_useState9"],[52,18,60,2],[52,21,60,44],[52,25,60,44,"useState"],[52,31,60,52],[52,32,60,52,"useState"],[52,40,60,52],[52,42,60,53],[52,47,60,58],[52,48,60,59],[53,6,60,59,"_useState0"],[53,16,60,59],[53,23,60,59,"_slicedToArray"],[53,37,60,59],[53,38,60,59,"default"],[53,45,60,59],[53,47,60,59,"_useState9"],[53,57,60,59],[54,6,60,9,"isPositioning"],[54,19,60,22],[54,22,60,22,"_useState0"],[54,32,60,22],[55,6,60,24,"setIsPositioning"],[55,22,60,40],[55,25,60,40,"_useState0"],[55,35,60,40],[56,4,61,2],[56,8,61,2,"_useState1"],[56,18,61,2],[56,21,61,44],[56,25,61,44,"useState"],[56,31,61,52],[56,32,61,52,"useState"],[56,40,61,52],[56,42,61,68],[56,46,61,72],[56,47,61,73],[57,6,61,73,"_useState10"],[57,17,61,73],[57,24,61,73,"_slicedToArray"],[57,38,61,73],[57,39,61,73,"default"],[57,46,61,73],[57,48,61,73,"_useState1"],[57,58,61,73],[58,6,61,9,"positionError"],[58,19,61,22],[58,22,61,22,"_useState10"],[58,33,61,22],[59,6,61,24,"setPositionError"],[59,22,61,40],[59,25,61,40,"_useState10"],[59,36,61,40],[61,4,63,2],[62,4,64,2],[62,8,64,2,"_useState11"],[62,19,64,2],[62,22,64,48],[62,26,64,48,"useState"],[62,32,64,56],[62,33,64,56,"useState"],[62,41,64,56],[62,43,64,84],[62,47,64,88],[62,48,64,89],[63,6,64,89,"_useState12"],[63,17,64,89],[63,24,64,89,"_slicedToArray"],[63,38,64,89],[63,39,64,89,"default"],[63,46,64,89],[63,48,64,89,"_useState11"],[63,59,64,89],[64,6,64,9,"navigationRoute"],[64,21,64,24],[64,24,64,24,"_useState12"],[64,35,64,24],[65,6,64,26,"setNavigationRoute"],[65,24,64,44],[65,27,64,44,"_useState12"],[65,38,64,44],[66,4,65,2],[66,8,65,2,"_useState13"],[66,19,65,2],[66,22,65,42],[66,26,65,42,"useState"],[66,32,65,50],[66,33,65,50,"useState"],[66,41,65,50],[66,43,65,51],[66,48,65,56],[66,49,65,57],[67,6,65,57,"_useState14"],[67,17,65,57],[67,24,65,57,"_slicedToArray"],[67,38,65,57],[67,39,65,57,"default"],[67,46,65,57],[67,48,65,57,"_useState13"],[67,59,65,57],[68,6,65,9,"isNavigating"],[68,18,65,21],[68,21,65,21,"_useState14"],[68,32,65,21],[69,6,65,23,"setIsNavigating"],[69,21,65,38],[69,24,65,38,"_useState14"],[69,35,65,38],[71,4,67,2],[72,4,68,2],[72,8,68,8,"currentPositionRef"],[72,26,68,26],[72,29,68,29],[72,33,68,29,"useRef"],[72,39,68,35],[72,40,68,35,"useRef"],[72,46,68,35],[72,48,68,61],[72,52,68,65],[72,53,68,66],[73,4,69,2],[73,8,69,8,"setUserLocation"],[73,23,69,23],[73,26,69,26],[73,30,69,26,"useAppStore"],[73,44,69,37],[73,45,69,37,"useAppStore"],[73,56,69,37],[73,58,69,39,"s"],[73,59,69,40],[73,63,69,45,"s"],[73,64,69,46],[73,65,69,47,"setUserLocation"],[73,80,69,62],[73,81,69,63],[74,4,70,2],[74,8,70,8,"setNavigationRouteStore"],[74,31,70,31],[74,34,70,34],[74,38,70,34,"useAppStore"],[74,52,70,45],[74,53,70,45,"useAppStore"],[74,64,70,45],[74,66,70,47,"s"],[74,67,70,48],[74,71,70,53,"s"],[74,72,70,54],[74,73,70,55,"setNavigationRoute"],[74,91,70,73],[74,92,70,74],[76,4,72,2],[77,4,73,2],[77,8,73,2,"useEffect"],[77,14,73,11],[77,15,73,11,"useEffect"],[77,24,73,11],[77,26,73,12],[77,32,73,18],[78,6,74,4,"currentPositionRef"],[78,24,74,22],[78,25,74,23,"current"],[78,32,74,30],[78,35,74,33,"currentPosition"],[78,50,74,48],[79,4,75,2],[79,5,75,3],[79,7,75,5],[79,8,75,6,"currentPosition"],[79,23,75,21],[79,24,75,22],[79,25,75,23],[81,4,77,2],[82,0,78,0],[83,0,79,0],[84,4,80,2],[84,8,80,8,"handleBeaconsFound"],[84,26,80,26],[84,29,80,29],[84,33,80,29,"useCallback"],[84,39,80,40],[84,40,80,40,"useCallback"],[84,51,80,40],[85,6,80,40],[85,10,80,40,"_ref"],[85,14,80,40],[85,21,80,40,"_asyncToGenerator"],[85,38,80,40],[85,39,80,40,"default"],[85,46,80,40],[85,48,80,41],[85,59,80,48,"beacons"],[85,66,80,72],[85,68,80,77],[86,8,81,4,"setScannedBeacons"],[86,25,81,21],[86,26,81,22,"beacons"],[86,33,81,29],[86,34,81,30],[87,8,83,4],[87,12,83,8,"beacons"],[87,19,83,15],[87,20,83,16,"length"],[87,26,83,22],[87,31,83,27],[87,32,83,28],[87,34,83,30],[88,10,84,6],[89,8,85,4],[90,8,87,4],[90,12,87,10,"strongest"],[90,21,87,19],[90,24,87,22,"beacons"],[90,31,87,29],[90,32,87,30,"reduce"],[90,38,87,36],[90,39,87,37],[90,40,87,38,"best"],[90,44,87,42],[90,46,87,44,"current"],[90,53,87,51],[90,58,87,56],[91,10,88,6],[91,14,88,10],[91,15,88,11,"best"],[91,19,88,15],[91,21,88,17],[91,28,88,24,"current"],[91,35,88,31],[92,10,89,6],[92,14,89,12,"bestR"],[92,19,89,17],[92,22,89,20],[92,29,89,27,"best"],[92,33,89,31],[92,34,89,32,"avgRssi"],[92,41,89,39],[92,46,89,44],[92,54,89,52],[92,57,89,55,"best"],[92,61,89,59],[92,62,89,60,"avgRssi"],[92,69,89,67],[92,72,89,70,"best"],[92,76,89,74],[92,77,89,75,"rssi"],[92,81,89,79],[93,10,90,6],[93,14,90,12,"curR"],[93,18,90,16],[93,21,90,19],[93,28,90,26,"current"],[93,35,90,33],[93,36,90,34,"avgRssi"],[93,43,90,41],[93,48,90,46],[93,56,90,54],[93,59,90,57,"current"],[93,66,90,64],[93,67,90,65,"avgRssi"],[93,74,90,72],[93,77,90,75,"current"],[93,84,90,82],[93,85,90,83,"rssi"],[93,89,90,87],[94,10,91,6],[94,17,91,13,"curR"],[94,21,91,17],[94,24,91,20,"bestR"],[94,29,91,25],[94,32,91,28,"current"],[94,39,91,35],[94,42,91,38,"best"],[94,46,91,42],[95,8,92,4],[95,9,92,5],[95,11,92,7,"beacons"],[95,18,92,14],[95,19,92,15],[95,20,92,16],[95,21,92,17],[95,22,92,18],[96,8,94,4],[96,12,94,8],[97,10,95,6,"setIsPositioning"],[97,26,95,22],[97,27,95,23],[97,31,95,27],[97,32,95,28],[98,10,96,6,"setPositionError"],[98,26,96,22],[98,27,96,23],[98,31,96,27],[98,32,96,28],[100,10,98,6],[101,10,99,6],[101,14,99,12,"THRESHOLD"],[101,23,99,21],[101,26,99,24],[101,27,99,25],[101,29,99,27],[101,30,99,28],[101,31,99,29],[102,10,100,6],[102,14,100,12,"rssiValue"],[102,23,100,21],[102,26,100,24,"Math"],[102,30,100,28],[102,31,100,29,"round"],[102,36,100,34],[102,37,100,36,"strongest"],[102,46,100,45],[102,47,100,46,"avgRssi"],[102,54,100,53],[102,58,100,57,"strongest"],[102,67,100,66],[102,68,100,67,"rssi"],[102,72,100,82],[102,73,100,83],[103,10,102,6],[103,14,102,10],[103,21,102,17,"rssiValue"],[103,30,102,26],[103,35,102,31],[103,43,102,39],[103,47,102,43,"rssiValue"],[103,56,102,52],[103,59,102,55,"THRESHOLD"],[103,68,102,64],[103,70,102,66],[104,12,103,8,"setPositionError"],[104,28,103,24],[104,29,103,25],[104,81,103,77],[104,82,103,78],[105,12,104,8],[106,10,105,6],[107,10,107,6],[107,14,107,12,"macField"],[107,22,107,20],[107,25,107,24,"strongest"],[107,34,107,33],[107,35,107,42,"mac"],[107,38,107,45],[107,42,107,50,"strongest"],[107,51,107,59],[107,52,107,68,"observedAddress"],[107,67,107,83],[107,71,107,88,"strongest"],[107,80,107,97],[107,81,107,106,"advId"],[107,86,107,111],[107,90,107,115],[107,92,107,117],[108,10,108,6],[108,14,108,10],[108,15,108,11,"macField"],[108,23,108,19],[108,27,108,23,"macField"],[108,35,108,31],[108,36,108,32,"length"],[108,42,108,38],[108,47,108,43],[108,48,108,44],[108,50,108,46],[109,12,109,8,"setPositionError"],[109,28,109,24],[109,29,109,25],[109,74,109,70],[109,75,109,71],[110,12,110,8],[111,10,111,6],[112,10,113,6],[112,14,113,12,"payload"],[112,21,113,19],[112,24,113,22],[112,25,113,23],[113,12,114,8,"mac"],[113,15,114,11],[113,17,114,13,"macField"],[113,25,114,21],[114,12,115,8,"rssi"],[114,16,115,12],[114,18,115,14,"rssiValue"],[114,27,115,23],[115,12,116,8,"observedAddress"],[115,27,116,23],[115,29,116,26,"strongest"],[115,38,116,35],[115,39,116,44,"observedAddress"],[115,54,116,59],[116,12,117,8,"advId"],[116,17,117,13],[116,19,117,16,"strongest"],[116,28,117,25],[116,29,117,34,"advId"],[117,10,118,6],[117,11,118,7],[117,12,118,8],[118,10,120,6,"console"],[118,17,120,13],[118,18,120,14,"log"],[118,21,120,17],[118,22,120,18],[118,71,120,67],[118,73,120,69,"payload"],[118,80,120,76],[118,81,120,77],[119,10,121,6],[119,14,121,12,"position"],[119,22,121,20],[119,31,121,29,"positioningApi"],[119,43,121,43],[119,44,121,43,"positioningApi"],[119,58,121,43],[119,59,121,44,"computePosition"],[119,74,121,59],[119,75,121,60,"payload"],[119,82,121,74],[119,83,121,75],[120,10,123,6],[120,14,123,10,"position"],[120,22,123,18],[120,23,123,19,"valid"],[120,28,123,24],[120,30,123,26],[121,12,124,8,"setCurrentPosition"],[121,30,124,26],[121,31,124,27,"position"],[121,39,124,35],[121,40,124,36],[123,12,126,8],[124,12,127,8],[124,16,127,12],[125,14,128,10],[125,18,128,16,"userLoc"],[125,25,128,37],[125,28,128,40],[126,16,129,12,"building_id"],[126,27,129,23],[126,29,129,25,"position"],[126,37,129,33],[126,38,129,34,"buildingId"],[126,48,129,44],[127,16,130,12,"floor_id"],[127,24,130,20],[127,26,130,22,"position"],[127,34,130,30],[127,35,130,31,"floorId"],[127,42,130,38],[128,16,131,12,"x"],[128,17,131,13],[128,19,131,15,"position"],[128,27,131,23],[128,28,131,24,"x"],[128,29,131,25],[129,16,132,12,"y"],[129,17,132,13],[129,19,132,15,"position"],[129,27,132,23],[129,28,132,24,"y"],[129,29,132,25],[130,16,133,12,"source"],[130,22,133,18],[130,24,133,20],[130,32,133,28],[131,16,134,12,"timestamp"],[131,25,134,21],[131,27,134,23],[131,31,134,27,"Date"],[131,35,134,31],[131,36,134,32],[132,14,135,10],[132,15,135,11],[133,14,136,10,"setUserLocation"],[133,29,136,25],[133,30,136,26,"userLoc"],[133,37,136,33],[133,38,136,34],[134,12,137,8],[134,13,137,9],[134,14,137,10],[134,21,137,17,"e"],[134,22,137,18],[134,24,137,20],[135,14,138,10,"console"],[135,21,138,17],[135,22,138,18,"warn"],[135,26,138,22],[135,27,138,23],[135,84,138,80],[135,86,138,82,"e"],[135,87,138,83],[135,88,138,84],[136,12,139,8],[137,12,141,8,"console"],[137,19,141,15],[137,20,141,16,"log"],[137,23,141,19],[137,24,141,20],[137,81,141,77,"position"],[137,89,141,85],[137,90,141,86,"x"],[137,91,141,87],[137,92,141,88,"toFixed"],[137,99,141,95],[137,100,141,96],[137,101,141,97],[137,102,141,98],[137,107,141,103,"position"],[137,115,141,111],[137,116,141,112,"y"],[137,117,141,113],[137,118,141,114,"toFixed"],[137,125,141,121],[137,126,141,122],[137,127,141,123],[137,128,141,124],[137,136,141,132,"position"],[137,144,141,140],[137,145,141,141,"floorName"],[137,154,141,150],[137,156,141,152],[137,157,141,153],[138,10,142,6],[138,11,142,7],[138,17,142,13],[139,12,143,8,"setPositionError"],[139,28,143,24],[139,29,143,25,"position"],[139,37,143,33],[139,38,143,34,"errorMessage"],[139,50,143,46],[139,54,143,50],[139,83,143,79],[139,84,143,80],[140,10,144,6],[141,8,145,4],[141,9,145,5],[141,10,145,6],[141,17,145,13,"error"],[141,22,145,18],[141,24,145,20],[142,10,146,6,"console"],[142,17,146,13],[142,18,146,14,"error"],[142,23,146,19],[142,24,146,20],[142,60,146,56],[142,62,146,58,"error"],[142,67,146,63],[142,68,146,64],[143,10,147,6,"setPositionError"],[143,26,147,22],[143,27,147,23,"error"],[143,32,147,28],[143,44,147,40,"Error"],[143,49,147,45],[143,52,147,48,"error"],[143,57,147,53],[143,58,147,54,"message"],[143,65,147,61],[143,68,147,64],[143,83,147,79],[143,84,147,80],[144,8,148,4],[144,9,148,5],[144,18,148,14],[145,10,149,6,"setIsPositioning"],[145,26,149,22],[145,27,149,23],[145,32,149,28],[145,33,149,29],[146,8,150,4],[147,6,151,2],[147,7,151,3],[148,6,151,3],[148,23,151,3,"_x"],[148,25,151,3],[149,8,151,3],[149,15,151,3,"_ref"],[149,19,151,3],[149,20,151,3,"apply"],[149,25,151,3],[149,32,151,3,"arguments"],[149,41,151,3],[150,6,151,3],[151,4,151,3],[151,9,151,5],[151,11,151,7],[151,12,151,8],[153,4,153,2],[154,0,154,0],[155,0,155,0],[156,4,156,2],[156,8,156,8,"handleStatusChange"],[156,26,156,26],[156,29,156,29],[156,33,156,29,"useCallback"],[156,39,156,40],[156,40,156,40,"useCallback"],[156,51,156,40],[156,53,156,42,"status"],[156,59,156,69],[156,63,156,74],[157,6,157,4,"setScannerStatus"],[157,22,157,20],[157,23,157,21,"status"],[157,29,157,27],[157,30,157,28],[158,6,158,4,"setIsScanning"],[158,19,158,17],[158,20,158,18,"status"],[158,26,158,24],[158,27,158,25,"isScanning"],[158,37,158,35],[158,38,158,36],[159,4,159,2],[159,5,159,3],[159,7,159,5],[159,9,159,7],[159,10,159,8],[161,4,161,2],[162,0,162,0],[163,0,163,0],[164,4,164,2],[164,8,164,8,"startScanning"],[164,21,164,21],[164,24,164,24],[164,28,164,24,"useCallback"],[164,34,164,35],[164,35,164,35,"useCallback"],[164,46,164,35],[165,6,164,35],[165,10,164,35,"_ref2"],[165,15,164,35],[165,22,164,35,"_asyncToGenerator"],[165,39,164,35],[165,40,164,35,"default"],[165,47,164,35],[165,49,164,36],[165,60,164,43,"options"],[165,67,164,73],[165,69,164,96],[166,8,165,4],[166,12,165,8,"Platform"],[166,24,165,16],[166,25,165,16,"Platform"],[166,33,165,16],[166,34,165,17,"OS"],[166,36,165,19],[166,41,165,24],[166,46,165,29],[166,48,165,31],[167,10,166,6,"console"],[167,17,166,13],[167,18,166,14,"log"],[167,21,166,17],[167,22,166,18],[167,67,166,63],[167,68,166,64],[168,10,167,6,"setScannerStatus"],[168,26,167,22],[168,27,167,23],[169,12,168,8,"isScanning"],[169,22,168,18],[169,24,168,20],[169,29,168,25],[170,12,169,8,"bluetoothEnabled"],[170,28,169,24],[170,30,169,26],[170,35,169,31],[171,12,170,8,"permissionsGranted"],[171,30,170,26],[171,32,170,28],[171,37,170,33],[172,12,171,8,"error"],[172,17,171,13],[172,19,171,15],[173,10,172,6],[173,11,172,7],[173,12,172,8],[174,10,173,6],[174,17,173,13],[174,22,173,18],[175,8,174,4],[176,8,176,4],[176,12,176,10,"success"],[176,19,176,17],[176,28,176,26,"beaconScanner"],[176,50,176,39],[176,51,176,39,"beaconScanner"],[176,64,176,39],[176,65,176,40,"startScanning"],[176,78,176,53],[176,79,177,6,"handleBeaconsFound"],[176,97,177,24],[176,99,178,6,"handleStatusChange"],[176,117,178,24],[176,119,179,6,"options"],[176,126,180,4],[176,127,180,5],[177,8,182,4],[177,15,182,11,"success"],[177,22,182,18],[178,6,183,2],[178,7,183,3],[179,6,183,3],[179,23,183,3,"_x2"],[179,26,183,3],[180,8,183,3],[180,15,183,3,"_ref2"],[180,20,183,3],[180,21,183,3,"apply"],[180,26,183,3],[180,33,183,3,"arguments"],[180,42,183,3],[181,6,183,3],[182,4,183,3],[182,9,183,5],[182,10,183,6,"handleBeaconsFound"],[182,28,183,24],[182,30,183,26,"handleStatusChange"],[182,48,183,44],[182,49,183,45],[182,50,183,46],[184,4,185,2],[185,0,186,0],[186,0,187,0],[187,4,188,2],[187,8,188,8,"stopScanning"],[187,20,188,20],[187,23,188,23],[187,27,188,23,"useCallback"],[187,33,188,34],[187,34,188,34,"useCallback"],[187,45,188,34],[187,47,188,35],[187,53,188,41],[188,6,189,4,"beaconScanner"],[188,28,189,17],[188,29,189,17,"beaconScanner"],[188,42,189,17],[188,43,189,18,"stopScanning"],[188,55,189,30],[188,56,189,31],[188,57,189,32],[189,6,190,4,"setIsScanning"],[189,19,190,17],[189,20,190,18],[189,25,190,23],[189,26,190,24],[190,6,191,4,"setScannedBeacons"],[190,23,191,21],[190,24,191,22],[190,26,191,24],[190,27,191,25],[191,4,192,2],[191,5,192,3],[191,7,192,5],[191,9,192,7],[191,10,192,8],[193,4,194,2],[194,0,195,0],[195,0,196,0],[196,4,197,2],[196,8,197,8,"navigateTo"],[196,18,197,18],[196,21,197,21],[196,25,197,21,"useCallback"],[196,31,197,32],[196,32,197,32,"useCallback"],[196,43,197,32],[197,6,197,32],[197,10,197,32,"_ref3"],[197,15,197,32],[197,22,197,32,"_asyncToGenerator"],[197,39,197,32],[197,40,197,32,"default"],[197,47,197,32],[197,49,197,33],[197,60,197,40,"destX"],[197,65,197,53],[197,67,197,55,"destY"],[197,72,197,68],[197,74,197,109],[198,8,198,4],[198,12,198,10,"position"],[198,20,198,18],[198,23,198,21,"currentPositionRef"],[198,41,198,39],[198,42,198,40,"current"],[198,49,198,47],[199,8,200,4],[199,12,200,8],[199,13,200,9,"position"],[199,21,200,17],[199,25,200,21],[199,26,200,22,"position"],[199,34,200,30],[199,35,200,31,"valid"],[199,40,200,36],[199,42,200,38],[200,10,201,6,"console"],[200,17,201,13],[200,18,201,14,"error"],[200,23,201,19],[200,24,201,20],[200,81,201,77],[200,82,201,78],[201,10,202,6],[201,17,202,13],[201,21,202,17],[202,8,203,4],[203,8,205,4],[203,12,205,8],[204,10,206,6,"setIsNavigating"],[204,25,206,21],[204,26,206,22],[204,30,206,26],[204,31,206,27],[205,10,208,6],[205,14,208,12,"request"],[205,21,208,38],[205,24,208,41],[206,12,209,8,"buildingId"],[206,22,209,18],[206,24,209,20,"position"],[206,32,209,28],[206,33,209,29,"buildingId"],[206,43,209,39],[207,12,210,8,"floorId"],[207,19,210,15],[207,21,210,17,"position"],[207,29,210,25],[207,30,210,26,"floorId"],[207,37,210,33],[208,12,211,8,"startX"],[208,18,211,14],[208,20,211,16,"position"],[208,28,211,24],[208,29,211,25,"x"],[208,30,211,26],[209,12,212,8,"startY"],[209,18,212,14],[209,20,212,16,"position"],[209,28,212,24],[209,29,212,25,"y"],[209,30,212,26],[210,12,213,8,"destX"],[210,17,213,13],[211,12,214,8,"destY"],[212,10,215,6],[212,11,215,7],[213,10,217,6],[213,14,217,12,"route"],[213,19,217,17],[213,28,217,26,"navigationApi"],[213,40,217,39],[213,41,217,39,"navigationApi"],[213,54,217,39],[213,55,217,40,"computeRoute"],[213,67,217,52],[213,68,217,53,"request"],[213,75,217,60],[213,76,217,61],[214,10,218,6,"setNavigationRoute"],[214,28,218,24],[214,29,218,25,"route"],[214,34,218,30],[214,35,218,31],[215,10,219,6],[216,10,220,6],[216,14,220,10],[217,12,221,8,"setNavigationRouteStore"],[217,35,221,31],[217,36,221,32,"route"],[217,41,221,37],[217,42,221,38],[218,10,222,6],[218,11,222,7],[218,12,222,8],[218,19,222,15,"e"],[218,20,222,16],[218,22,222,18],[219,12,223,8,"console"],[219,19,223,15],[219,20,223,16,"warn"],[219,24,223,20],[219,25,223,21],[219,85,223,81],[219,87,223,83,"e"],[219,88,223,84],[219,89,223,85],[220,10,224,6],[221,10,226,6,"console"],[221,17,226,13],[221,18,226,14,"log"],[221,21,226,17],[221,22,226,18],[221,62,226,58,"route"],[221,67,226,63],[221,68,226,64,"route"],[221,73,226,69],[221,74,226,70,"length"],[221,80,226,76],[221,92,226,88,"route"],[221,97,226,93],[221,98,226,94,"totalDistance"],[221,111,226,107],[221,112,226,108,"toFixed"],[221,119,226,115],[221,120,226,116],[221,121,226,117],[221,122,226,118],[221,130,226,126],[221,131,226,127],[222,10,228,6],[222,17,228,13,"route"],[222,22,228,18],[223,8,229,4],[223,9,229,5],[223,10,229,6],[223,17,229,13,"error"],[223,22,229,18],[223,24,229,20],[224,10,230,6,"console"],[224,17,230,13],[224,18,230,14,"error"],[224,23,230,19],[224,24,230,20],[224,62,230,58],[224,64,230,60,"error"],[224,69,230,65],[224,70,230,66],[225,10,231,6],[225,17,231,13],[225,21,231,17],[226,8,232,4],[226,9,232,5],[226,18,232,14],[227,10,233,6,"setIsNavigating"],[227,25,233,21],[227,26,233,22],[227,31,233,27],[227,32,233,28],[228,8,234,4],[229,6,235,2],[229,7,235,3],[230,6,235,3],[230,23,235,3,"_x3"],[230,26,235,3],[230,28,235,3,"_x4"],[230,31,235,3],[231,8,235,3],[231,15,235,3,"_ref3"],[231,20,235,3],[231,21,235,3,"apply"],[231,26,235,3],[231,33,235,3,"arguments"],[231,42,235,3],[232,6,235,3],[233,4,235,3],[233,9,235,5],[233,11,235,7],[233,12,235,8],[235,4,237,2],[236,0,238,0],[237,0,239,0],[238,4,240,2],[238,8,240,8,"clearNavigation"],[238,23,240,23],[238,26,240,26],[238,30,240,26,"useCallback"],[238,36,240,37],[238,37,240,37,"useCallback"],[238,48,240,37],[238,50,240,38],[238,56,240,44],[239,6,241,4,"setNavigationRoute"],[239,24,241,22],[239,25,241,23],[239,29,241,27],[239,30,241,28],[240,4,242,2],[240,5,242,3],[240,7,242,5],[240,9,242,7],[240,10,242,8],[242,4,244,2],[243,0,245,0],[244,0,246,0],[245,4,247,2],[245,8,247,2,"useEffect"],[245,14,247,11],[245,15,247,11,"useEffect"],[245,24,247,11],[245,26,247,12],[245,32,247,18],[246,6,248,4],[246,13,248,11],[246,19,248,17],[247,8,249,6,"beaconScanner"],[247,30,249,19],[247,31,249,19,"beaconScanner"],[247,44,249,19],[247,45,249,20,"stopScanning"],[247,57,249,32],[247,58,249,33],[247,59,249,34],[248,6,250,4],[248,7,250,5],[249,4,251,2],[249,5,251,3],[249,7,251,5],[249,9,251,7],[249,10,251,8],[250,4,253,2],[250,11,253,9],[251,6,254,4],[252,6,255,4,"isScanning"],[252,16,255,14],[253,6,256,4,"scannerStatus"],[253,19,256,17],[254,6,257,4,"scannedBeacons"],[254,20,257,18],[255,6,259,4],[256,6,260,4,"currentPosition"],[256,21,260,19],[257,6,261,4,"isPositioning"],[257,19,261,17],[258,6,262,4,"positionError"],[258,19,262,17],[259,6,264,4],[260,6,265,4,"navigationRoute"],[260,21,265,19],[261,6,266,4,"isNavigating"],[261,18,266,16],[262,6,268,4],[263,6,269,4,"startScanning"],[263,19,269,17],[264,6,270,4,"stopScanning"],[264,18,270,16],[265,6,271,4,"navigateTo"],[265,16,271,14],[266,6,272,4,"clearNavigation"],[267,4,273,2],[267,5,273,3],[268,2,274,0],[269,2,274,1,"_s"],[269,4,274,1],[269,5,48,16,"useBeaconScanner"],[269,21,48,32],[270,4,48,32],[270,12,69,26,"useAppStore"],[270,26,69,37],[270,27,69,37,"useAppStore"],[270,38,69,37],[270,40,70,34,"useAppStore"],[270,54,70,45],[270,55,70,45,"useAppStore"],[270,66,70,45],[271,2,70,45],[272,0,70,45],[272,3]],"functionMap":{"names":["<global>","useBeaconScanner","useAppStore$argument_0","useEffect$argument_0","handleBeaconsFound","beacons.reduce$argument_0","handleStatusChange","startScanning","stopScanning","navigateTo","clearNavigation","<anonymous>"],"mappings":"AAA;OC+C;sCCqB,wBD;8CCC,2BD;YEG;GFE;yCGK;qCCO;KDK;GH2D;yCKK;GLG;oCMK;GNmB;mCOK;GPI;iCQK;GRsC;sCSK;GTE;YEK;WQC;KRE;GFC;CDuB"},"hasCjsExports":false},"type":"js/module"}]}
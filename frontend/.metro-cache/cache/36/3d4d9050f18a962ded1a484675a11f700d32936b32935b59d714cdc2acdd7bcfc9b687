{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":85},"end":{"line":6,"column":65,"index":150}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":151},"end":{"line":7,"column":40,"index":191}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":192},"end":{"line":8,"column":62,"index":254}}],"key":"/bohzyw2mCiLwBL1LhK3cj9dt4o=","exportNames":["*"],"imports":1}},{"name":"../services/beaconScanner","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":255},"end":{"line":14,"column":35,"index":379}}],"key":"BHEtprxFZbpJurUGq47L1Pm/D5Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":380},"end":{"line":23,"column":25,"index":514}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useBeaconScanner Hook\n   * React hook for iBeacon scanning and positioning\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useBeaconScanner = useBeaconScanner;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _storeAppStore = require(_dependencyMap[4], \"../store/appStore\");\n  var _servicesBeaconScanner = require(_dependencyMap[5], \"../services/beaconScanner\");\n  var _servicesApi = require(_dependencyMap[6], \"../services/api\");\n  function useBeaconScanner() {\n    _s();\n    // Scanner state\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      isScanning = _useState2[0],\n      setIsScanning = _useState2[1];\n    var _useState3 = (0, _react.useState)({\n        isScanning: false,\n        bluetoothEnabled: false,\n        permissionsGranted: false\n      }),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      scannerStatus = _useState4[0],\n      setScannerStatus = _useState4[1];\n    var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      scannedBeacons = _useState6[0],\n      setScannedBeacons = _useState6[1];\n\n    // Position state\n    var _useState7 = (0, _react.useState)(null),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      currentPosition = _useState8[0],\n      setCurrentPosition = _useState8[1];\n    var _useState9 = (0, _react.useState)(false),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      isPositioning = _useState0[0],\n      setIsPositioning = _useState0[1];\n    var _useState1 = (0, _react.useState)(null),\n      _useState10 = (0, _slicedToArray.default)(_useState1, 2),\n      positionError = _useState10[0],\n      setPositionError = _useState10[1];\n\n    // Navigation state\n    var _useState11 = (0, _react.useState)(null),\n      _useState12 = (0, _slicedToArray.default)(_useState11, 2),\n      navigationRoute = _useState12[0],\n      setNavigationRoute = _useState12[1];\n    var _useState13 = (0, _react.useState)(false),\n      _useState14 = (0, _slicedToArray.default)(_useState13, 2),\n      isNavigating = _useState14[0],\n      setIsNavigating = _useState14[1];\n\n    // Refs to track latest values in callbacks\n    var currentPositionRef = (0, _react.useRef)(null);\n    var setUserLocation = (0, _storeAppStore.useAppStore)(s => s.setUserLocation);\n    var setNavigationRouteStore = (0, _storeAppStore.useAppStore)(s => s.setNavigationRoute);\n\n    // Update ref when position changes\n    (0, _react.useEffect)(() => {\n      currentPositionRef.current = currentPosition;\n    }, [currentPosition]);\n\n    /**\n     * Handle incoming beacon data and compute position\n     */\n    var handleBeaconsFound = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (beacons) {\n        setScannedBeacons(beacons);\n        if (beacons.length === 0) {\n          return;\n        }\n        var strongest = beacons.reduce((best, current) => {\n          if (!best) return current;\n          return current.avgRssi > best.avgRssi ? current : best;\n        }, beacons[0]);\n        try {\n          setIsPositioning(true);\n          setPositionError(null);\n\n          // Map scanned beacons to backend DTO using smoothed RSSI.\n          // Include observedAddress / advId so backend can match either hardware MAC or advertisement identifier.\n          var payload = beacons.map(b => ({\n            mac: b.mac,\n            rssi: Math.round(b.avgRssi ?? b.rssi),\n            observedAddress: b.observedAddress,\n            advId: b.advId\n          })).filter(p => typeof p.rssi === 'number');\n          if (payload.length === 0) {\n            setPositionError('No valid beacon RSSI to send');\n            return;\n          }\n          console.log('[Positioning] sending beacons payload:', payload);\n          var position = yield _servicesApi.positioningApi.computePosition(payload);\n          if (position.valid) {\n            setCurrentPosition(position);\n\n            // Update global store user location so IndoorMapViewer and other components react\n            try {\n              var userLoc = {\n                building_id: position.buildingId,\n                floor_id: position.floorId,\n                x: position.x,\n                y: position.y,\n                source: 'beacon',\n                timestamp: new Date()\n              };\n              setUserLocation(userLoc);\n            } catch (e) {\n              console.warn('[useBeaconScanner] Failed to set user location in store', e);\n            }\n            console.log(`[useBeaconScanner] Position: (${position.x.toFixed(1)}, ${position.y.toFixed(1)}) on ${position.floorName}`);\n          } else {\n            setPositionError(position.errorMessage || 'Position computation failed');\n          }\n        } catch (error) {\n          console.error('[useBeaconScanner] Position error:', error);\n          setPositionError(error instanceof Error ? error.message : 'Unknown error');\n        } finally {\n          setIsPositioning(false);\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Handle scanner status changes\n     */\n    var handleStatusChange = (0, _react.useCallback)(status => {\n      setScannerStatus(status);\n      setIsScanning(status.isScanning);\n    }, []);\n\n    /**\n     * Start beacon scanning\n     */\n    var startScanning = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (options) {\n        if (_reactNative.Platform.OS === 'web') {\n          console.log('[useBeaconScanner] BLE not available on web');\n          setScannerStatus({\n            isScanning: false,\n            bluetoothEnabled: false,\n            permissionsGranted: false,\n            error: 'BLE scanning requires a physical Android device'\n          });\n          return false;\n        }\n        var success = yield _servicesBeaconScanner.beaconScanner.startScanning(handleBeaconsFound, handleStatusChange, options);\n        return success;\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [handleBeaconsFound, handleStatusChange]);\n\n    /**\n     * Stop beacon scanning\n     */\n    var stopScanning = (0, _react.useCallback)(() => {\n      _servicesBeaconScanner.beaconScanner.stopScanning();\n      setIsScanning(false);\n      setScannedBeacons([]);\n    }, []);\n\n    /**\n     * Navigate to a destination\n     */\n    var navigateTo = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (destX, destY) {\n        var position = currentPositionRef.current;\n        if (!position || !position.valid) {\n          console.error('[useBeaconScanner] Cannot navigate: no current position');\n          return null;\n        }\n        try {\n          setIsNavigating(true);\n          var request = {\n            buildingId: position.buildingId,\n            floorId: position.floorId,\n            startX: position.x,\n            startY: position.y,\n            destX,\n            destY\n          };\n          var route = yield _servicesApi.navigationApi.computeRoute(request);\n          setNavigationRoute(route);\n          // persist route to global store so map reads it\n          try {\n            setNavigationRouteStore(route);\n          } catch (e) {\n            console.warn('[useBeaconScanner] Failed to set navigation route in store', e);\n          }\n          console.log(`[useBeaconScanner] Navigation route: ${route.route.length} points, ${route.totalDistance.toFixed(1)} units`);\n          return route;\n        } catch (error) {\n          console.error('[useBeaconScanner] Navigation error:', error);\n          return null;\n        } finally {\n          setIsNavigating(false);\n        }\n      });\n      return function (_x3, _x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Clear navigation route\n     */\n    var clearNavigation = (0, _react.useCallback)(() => {\n      setNavigationRoute(null);\n    }, []);\n\n    /**\n     * Cleanup on unmount\n     */\n    (0, _react.useEffect)(() => {\n      return () => {\n        _servicesBeaconScanner.beaconScanner.stopScanning();\n      };\n    }, []);\n    return {\n      // Scanner state\n      isScanning,\n      scannerStatus,\n      scannedBeacons,\n      // Position state\n      currentPosition,\n      isPositioning,\n      positionError,\n      // Navigation state\n      navigationRoute,\n      isNavigating,\n      // Actions\n      startScanning,\n      stopScanning,\n      navigateTo,\n      clearNavigation\n    };\n  }\n  _s(useBeaconScanner, \"AjjM8Tt0lKG6OZEhSmATHcKFbMc=\", false, function () {\n    return [_storeAppStore.useAppStore, _storeAppStore.useAppStore];\n  });\n});","lineCount":264,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,48,0,"exports"],[17,9,48,0],[17,10,48,0,"useBeaconScanner"],[17,26,48,0],[17,29,48,0,"useBeaconScanner"],[17,45,48,0],[18,2,266,1],[18,6,266,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,266,1],[18,45,266,1,"require"],[18,52,266,1],[18,53,266,1,"_dependencyMap"],[18,67,266,1],[19,2,266,1],[19,6,266,1,"_asyncToGenerator"],[19,23,266,1],[19,26,266,1,"_interopDefault"],[19,41,266,1],[19,42,266,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,266,1],[20,2,266,1],[20,6,266,1,"_babelRuntimeHelpersSlicedToArray"],[20,39,266,1],[20,42,266,1,"require"],[20,49,266,1],[20,50,266,1,"_dependencyMap"],[20,64,266,1],[21,2,266,1],[21,6,266,1,"_slicedToArray"],[21,20,266,1],[21,23,266,1,"_interopDefault"],[21,38,266,1],[21,39,266,1,"_babelRuntimeHelpersSlicedToArray"],[21,72,266,1],[22,2,6,0],[22,6,6,0,"_react"],[22,12,6,0],[22,15,6,0,"require"],[22,22,6,0],[22,23,6,0,"_dependencyMap"],[22,37,6,0],[23,2,7,0],[23,6,7,0,"_reactNative"],[23,18,7,0],[23,21,7,0,"require"],[23,28,7,0],[23,29,7,0,"_dependencyMap"],[23,43,7,0],[24,2,8,0],[24,6,8,0,"_storeAppStore"],[24,20,8,0],[24,23,8,0,"require"],[24,30,8,0],[24,31,8,0,"_dependencyMap"],[24,45,8,0],[25,2,9,0],[25,6,9,0,"_servicesBeaconScanner"],[25,28,9,0],[25,31,9,0,"require"],[25,38,9,0],[25,39,9,0,"_dependencyMap"],[25,53,9,0],[26,2,15,0],[26,6,15,0,"_servicesApi"],[26,18,15,0],[26,21,15,0,"require"],[26,28,15,0],[26,29,15,0,"_dependencyMap"],[26,43,15,0],[27,2,48,7],[27,11,48,16,"useBeaconScanner"],[27,27,48,32,"useBeaconScanner"],[27,28,48,32],[27,30,48,59],[28,4,48,59,"_s"],[28,6,48,59],[29,4,49,2],[30,4,50,2],[30,8,50,2,"_useState"],[30,17,50,2],[30,20,50,38],[30,24,50,38,"useState"],[30,30,50,46],[30,31,50,46,"useState"],[30,39,50,46],[30,41,50,47],[30,46,50,52],[30,47,50,53],[31,6,50,53,"_useState2"],[31,16,50,53],[31,23,50,53,"_slicedToArray"],[31,37,50,53],[31,38,50,53,"default"],[31,45,50,53],[31,47,50,53,"_useState"],[31,56,50,53],[32,6,50,9,"isScanning"],[32,16,50,19],[32,19,50,19,"_useState2"],[32,29,50,19],[33,6,50,21,"setIsScanning"],[33,19,50,34],[33,22,50,34,"_useState2"],[33,32,50,34],[34,4,51,2],[34,8,51,2,"_useState3"],[34,18,51,2],[34,21,51,44],[34,25,51,44,"useState"],[34,31,51,52],[34,32,51,52,"useState"],[34,40,51,52],[34,42,51,74],[35,8,52,4,"isScanning"],[35,18,52,14],[35,20,52,16],[35,25,52,21],[36,8,53,4,"bluetoothEnabled"],[36,24,53,20],[36,26,53,22],[36,31,53,27],[37,8,54,4,"permissionsGranted"],[37,26,54,22],[37,28,54,24],[38,6,55,2],[38,7,55,3],[38,8,55,4],[39,6,55,4,"_useState4"],[39,16,55,4],[39,23,55,4,"_slicedToArray"],[39,37,55,4],[39,38,55,4,"default"],[39,45,55,4],[39,47,55,4,"_useState3"],[39,57,55,4],[40,6,51,9,"scannerStatus"],[40,19,51,22],[40,22,51,22,"_useState4"],[40,32,51,22],[41,6,51,24,"setScannerStatus"],[41,22,51,40],[41,25,51,40,"_useState4"],[41,35,51,40],[42,4,56,2],[42,8,56,2,"_useState5"],[42,18,56,2],[42,21,56,46],[42,25,56,46,"useState"],[42,31,56,54],[42,32,56,54,"useState"],[42,40,56,54],[42,42,56,72],[42,44,56,74],[42,45,56,75],[43,6,56,75,"_useState6"],[43,16,56,75],[43,23,56,75,"_slicedToArray"],[43,37,56,75],[43,38,56,75,"default"],[43,45,56,75],[43,47,56,75,"_useState5"],[43,57,56,75],[44,6,56,9,"scannedBeacons"],[44,20,56,23],[44,23,56,23,"_useState6"],[44,33,56,23],[45,6,56,25,"setScannedBeacons"],[45,23,56,42],[45,26,56,42,"_useState6"],[45,36,56,42],[47,4,58,2],[48,4,59,2],[48,8,59,2,"_useState7"],[48,18,59,2],[48,21,59,48],[48,25,59,48,"useState"],[48,31,59,56],[48,32,59,56,"useState"],[48,40,59,56],[48,42,59,82],[48,46,59,86],[48,47,59,87],[49,6,59,87,"_useState8"],[49,16,59,87],[49,23,59,87,"_slicedToArray"],[49,37,59,87],[49,38,59,87,"default"],[49,45,59,87],[49,47,59,87,"_useState7"],[49,57,59,87],[50,6,59,9,"currentPosition"],[50,21,59,24],[50,24,59,24,"_useState8"],[50,34,59,24],[51,6,59,26,"setCurrentPosition"],[51,24,59,44],[51,27,59,44,"_useState8"],[51,37,59,44],[52,4,60,2],[52,8,60,2,"_useState9"],[52,18,60,2],[52,21,60,44],[52,25,60,44,"useState"],[52,31,60,52],[52,32,60,52,"useState"],[52,40,60,52],[52,42,60,53],[52,47,60,58],[52,48,60,59],[53,6,60,59,"_useState0"],[53,16,60,59],[53,23,60,59,"_slicedToArray"],[53,37,60,59],[53,38,60,59,"default"],[53,45,60,59],[53,47,60,59,"_useState9"],[53,57,60,59],[54,6,60,9,"isPositioning"],[54,19,60,22],[54,22,60,22,"_useState0"],[54,32,60,22],[55,6,60,24,"setIsPositioning"],[55,22,60,40],[55,25,60,40,"_useState0"],[55,35,60,40],[56,4,61,2],[56,8,61,2,"_useState1"],[56,18,61,2],[56,21,61,44],[56,25,61,44,"useState"],[56,31,61,52],[56,32,61,52,"useState"],[56,40,61,52],[56,42,61,68],[56,46,61,72],[56,47,61,73],[57,6,61,73,"_useState10"],[57,17,61,73],[57,24,61,73,"_slicedToArray"],[57,38,61,73],[57,39,61,73,"default"],[57,46,61,73],[57,48,61,73,"_useState1"],[57,58,61,73],[58,6,61,9,"positionError"],[58,19,61,22],[58,22,61,22,"_useState10"],[58,33,61,22],[59,6,61,24,"setPositionError"],[59,22,61,40],[59,25,61,40,"_useState10"],[59,36,61,40],[61,4,63,2],[62,4,64,2],[62,8,64,2,"_useState11"],[62,19,64,2],[62,22,64,48],[62,26,64,48,"useState"],[62,32,64,56],[62,33,64,56,"useState"],[62,41,64,56],[62,43,64,84],[62,47,64,88],[62,48,64,89],[63,6,64,89,"_useState12"],[63,17,64,89],[63,24,64,89,"_slicedToArray"],[63,38,64,89],[63,39,64,89,"default"],[63,46,64,89],[63,48,64,89,"_useState11"],[63,59,64,89],[64,6,64,9,"navigationRoute"],[64,21,64,24],[64,24,64,24,"_useState12"],[64,35,64,24],[65,6,64,26,"setNavigationRoute"],[65,24,64,44],[65,27,64,44,"_useState12"],[65,38,64,44],[66,4,65,2],[66,8,65,2,"_useState13"],[66,19,65,2],[66,22,65,42],[66,26,65,42,"useState"],[66,32,65,50],[66,33,65,50,"useState"],[66,41,65,50],[66,43,65,51],[66,48,65,56],[66,49,65,57],[67,6,65,57,"_useState14"],[67,17,65,57],[67,24,65,57,"_slicedToArray"],[67,38,65,57],[67,39,65,57,"default"],[67,46,65,57],[67,48,65,57,"_useState13"],[67,59,65,57],[68,6,65,9,"isNavigating"],[68,18,65,21],[68,21,65,21,"_useState14"],[68,32,65,21],[69,6,65,23,"setIsNavigating"],[69,21,65,38],[69,24,65,38,"_useState14"],[69,35,65,38],[71,4,67,2],[72,4,68,2],[72,8,68,8,"currentPositionRef"],[72,26,68,26],[72,29,68,29],[72,33,68,29,"useRef"],[72,39,68,35],[72,40,68,35,"useRef"],[72,46,68,35],[72,48,68,61],[72,52,68,65],[72,53,68,66],[73,4,69,2],[73,8,69,8,"setUserLocation"],[73,23,69,23],[73,26,69,26],[73,30,69,26,"useAppStore"],[73,44,69,37],[73,45,69,37,"useAppStore"],[73,56,69,37],[73,58,69,39,"s"],[73,59,69,40],[73,63,69,45,"s"],[73,64,69,46],[73,65,69,47,"setUserLocation"],[73,80,69,62],[73,81,69,63],[74,4,70,2],[74,8,70,8,"setNavigationRouteStore"],[74,31,70,31],[74,34,70,34],[74,38,70,34,"useAppStore"],[74,52,70,45],[74,53,70,45,"useAppStore"],[74,64,70,45],[74,66,70,47,"s"],[74,67,70,48],[74,71,70,53,"s"],[74,72,70,54],[74,73,70,55,"setNavigationRoute"],[74,91,70,73],[74,92,70,74],[76,4,72,2],[77,4,73,2],[77,8,73,2,"useEffect"],[77,14,73,11],[77,15,73,11,"useEffect"],[77,24,73,11],[77,26,73,12],[77,32,73,18],[78,6,74,4,"currentPositionRef"],[78,24,74,22],[78,25,74,23,"current"],[78,32,74,30],[78,35,74,33,"currentPosition"],[78,50,74,48],[79,4,75,2],[79,5,75,3],[79,7,75,5],[79,8,75,6,"currentPosition"],[79,23,75,21],[79,24,75,22],[79,25,75,23],[81,4,77,2],[82,0,78,0],[83,0,79,0],[84,4,80,2],[84,8,80,8,"handleBeaconsFound"],[84,26,80,26],[84,29,80,29],[84,33,80,29,"useCallback"],[84,39,80,40],[84,40,80,40,"useCallback"],[84,51,80,40],[85,6,80,40],[85,10,80,40,"_ref"],[85,14,80,40],[85,21,80,40,"_asyncToGenerator"],[85,38,80,40],[85,39,80,40,"default"],[85,46,80,40],[85,48,80,41],[85,59,80,48,"beacons"],[85,66,80,72],[85,68,80,77],[86,8,81,4,"setScannedBeacons"],[86,25,81,21],[86,26,81,22,"beacons"],[86,33,81,29],[86,34,81,30],[87,8,83,4],[87,12,83,8,"beacons"],[87,19,83,15],[87,20,83,16,"length"],[87,26,83,22],[87,31,83,27],[87,32,83,28],[87,34,83,30],[88,10,84,6],[89,8,85,4],[90,8,87,4],[90,12,87,10,"strongest"],[90,21,87,19],[90,24,87,22,"beacons"],[90,31,87,29],[90,32,87,30,"reduce"],[90,38,87,36],[90,39,87,37],[90,40,87,38,"best"],[90,44,87,42],[90,46,87,44,"current"],[90,53,87,51],[90,58,87,56],[91,10,88,6],[91,14,88,10],[91,15,88,11,"best"],[91,19,88,15],[91,21,88,17],[91,28,88,24,"current"],[91,35,88,31],[92,10,89,6],[92,17,89,13,"current"],[92,24,89,20],[92,25,89,21,"avgRssi"],[92,32,89,28],[92,35,89,31,"best"],[92,39,89,35],[92,40,89,36,"avgRssi"],[92,47,89,43],[92,50,89,46,"current"],[92,57,89,53],[92,60,89,56,"best"],[92,64,89,60],[93,8,90,4],[93,9,90,5],[93,11,90,7,"beacons"],[93,18,90,14],[93,19,90,15],[93,20,90,16],[93,21,90,17],[93,22,90,18],[94,8,92,4],[94,12,92,8],[95,10,93,6,"setIsPositioning"],[95,26,93,22],[95,27,93,23],[95,31,93,27],[95,32,93,28],[96,10,94,6,"setPositionError"],[96,26,94,22],[96,27,94,23],[96,31,94,27],[96,32,94,28],[98,10,96,6],[99,10,97,6],[100,10,98,6],[100,14,98,12,"payload"],[100,21,98,19],[100,24,98,22,"beacons"],[100,31,98,29],[100,32,99,9,"map"],[100,35,99,12],[100,36,99,14,"b"],[100,37,99,15],[100,42,99,21],[101,12,100,10,"mac"],[101,15,100,13],[101,17,100,15,"b"],[101,18,100,16],[101,19,100,17,"mac"],[101,22,100,20],[102,12,101,10,"rssi"],[102,16,101,14],[102,18,101,16,"Math"],[102,22,101,20],[102,23,101,21,"round"],[102,28,101,26],[102,29,101,27,"b"],[102,30,101,28],[102,31,101,29,"avgRssi"],[102,38,101,36],[102,42,101,40,"b"],[102,43,101,41],[102,44,101,42,"rssi"],[102,48,101,46],[102,49,101,47],[103,12,102,10,"observedAddress"],[103,27,102,25],[103,29,102,28,"b"],[103,30,102,29],[103,31,102,38,"observedAddress"],[103,46,102,53],[104,12,103,10,"advId"],[104,17,103,15],[104,19,103,18,"b"],[104,20,103,19],[104,21,103,28,"advId"],[105,10,104,8],[105,11,104,9],[105,12,104,10],[105,13,104,11],[105,14,105,9,"filter"],[105,20,105,15],[105,21,105,17,"p"],[105,22,105,18],[105,26,105,23],[105,33,105,30,"p"],[105,34,105,31],[105,35,105,32,"rssi"],[105,39,105,36],[105,44,105,41],[105,52,105,49],[105,53,105,50],[106,10,107,6],[106,14,107,10,"payload"],[106,21,107,17],[106,22,107,18,"length"],[106,28,107,24],[106,33,107,29],[106,34,107,30],[106,36,107,32],[107,12,108,8,"setPositionError"],[107,28,108,24],[107,29,108,25],[107,59,108,55],[107,60,108,56],[108,12,109,8],[109,10,110,6],[110,10,112,6,"console"],[110,17,112,13],[110,18,112,14,"log"],[110,21,112,17],[110,22,112,18],[110,62,112,58],[110,64,112,60,"payload"],[110,71,112,67],[110,72,112,68],[111,10,113,6],[111,14,113,12,"position"],[111,22,113,20],[111,31,113,29,"positioningApi"],[111,43,113,43],[111,44,113,43,"positioningApi"],[111,58,113,43],[111,59,113,44,"computePosition"],[111,74,113,59],[111,75,113,60,"payload"],[111,82,113,74],[111,83,113,75],[112,10,115,6],[112,14,115,10,"position"],[112,22,115,18],[112,23,115,19,"valid"],[112,28,115,24],[112,30,115,26],[113,12,116,8,"setCurrentPosition"],[113,30,116,26],[113,31,116,27,"position"],[113,39,116,35],[113,40,116,36],[115,12,118,8],[116,12,119,8],[116,16,119,12],[117,14,120,10],[117,18,120,16,"userLoc"],[117,25,120,37],[117,28,120,40],[118,16,121,12,"building_id"],[118,27,121,23],[118,29,121,25,"position"],[118,37,121,33],[118,38,121,34,"buildingId"],[118,48,121,44],[119,16,122,12,"floor_id"],[119,24,122,20],[119,26,122,22,"position"],[119,34,122,30],[119,35,122,31,"floorId"],[119,42,122,38],[120,16,123,12,"x"],[120,17,123,13],[120,19,123,15,"position"],[120,27,123,23],[120,28,123,24,"x"],[120,29,123,25],[121,16,124,12,"y"],[121,17,124,13],[121,19,124,15,"position"],[121,27,124,23],[121,28,124,24,"y"],[121,29,124,25],[122,16,125,12,"source"],[122,22,125,18],[122,24,125,20],[122,32,125,28],[123,16,126,12,"timestamp"],[123,25,126,21],[123,27,126,23],[123,31,126,27,"Date"],[123,35,126,31],[123,36,126,32],[124,14,127,10],[124,15,127,11],[125,14,128,10,"setUserLocation"],[125,29,128,25],[125,30,128,26,"userLoc"],[125,37,128,33],[125,38,128,34],[126,12,129,8],[126,13,129,9],[126,14,129,10],[126,21,129,17,"e"],[126,22,129,18],[126,24,129,20],[127,14,130,10,"console"],[127,21,130,17],[127,22,130,18,"warn"],[127,26,130,22],[127,27,130,23],[127,84,130,80],[127,86,130,82,"e"],[127,87,130,83],[127,88,130,84],[128,12,131,8],[129,12,133,8,"console"],[129,19,133,15],[129,20,133,16,"log"],[129,23,133,19],[129,24,133,20],[129,57,133,53,"position"],[129,65,133,61],[129,66,133,62,"x"],[129,67,133,63],[129,68,133,64,"toFixed"],[129,75,133,71],[129,76,133,72],[129,77,133,73],[129,78,133,74],[129,83,133,79,"position"],[129,91,133,87],[129,92,133,88,"y"],[129,93,133,89],[129,94,133,90,"toFixed"],[129,101,133,97],[129,102,133,98],[129,103,133,99],[129,104,133,100],[129,112,133,108,"position"],[129,120,133,116],[129,121,133,117,"floorName"],[129,130,133,126],[129,132,133,128],[129,133,133,129],[130,10,134,6],[130,11,134,7],[130,17,134,13],[131,12,135,8,"setPositionError"],[131,28,135,24],[131,29,135,25,"position"],[131,37,135,33],[131,38,135,34,"errorMessage"],[131,50,135,46],[131,54,135,50],[131,83,135,79],[131,84,135,80],[132,10,136,6],[133,8,137,4],[133,9,137,5],[133,10,137,6],[133,17,137,13,"error"],[133,22,137,18],[133,24,137,20],[134,10,138,6,"console"],[134,17,138,13],[134,18,138,14,"error"],[134,23,138,19],[134,24,138,20],[134,60,138,56],[134,62,138,58,"error"],[134,67,138,63],[134,68,138,64],[135,10,139,6,"setPositionError"],[135,26,139,22],[135,27,139,23,"error"],[135,32,139,28],[135,44,139,40,"Error"],[135,49,139,45],[135,52,139,48,"error"],[135,57,139,53],[135,58,139,54,"message"],[135,65,139,61],[135,68,139,64],[135,83,139,79],[135,84,139,80],[136,8,140,4],[136,9,140,5],[136,18,140,14],[137,10,141,6,"setIsPositioning"],[137,26,141,22],[137,27,141,23],[137,32,141,28],[137,33,141,29],[138,8,142,4],[139,6,143,2],[139,7,143,3],[140,6,143,3],[140,23,143,3,"_x"],[140,25,143,3],[141,8,143,3],[141,15,143,3,"_ref"],[141,19,143,3],[141,20,143,3,"apply"],[141,25,143,3],[141,32,143,3,"arguments"],[141,41,143,3],[142,6,143,3],[143,4,143,3],[143,9,143,5],[143,11,143,7],[143,12,143,8],[145,4,145,2],[146,0,146,0],[147,0,147,0],[148,4,148,2],[148,8,148,8,"handleStatusChange"],[148,26,148,26],[148,29,148,29],[148,33,148,29,"useCallback"],[148,39,148,40],[148,40,148,40,"useCallback"],[148,51,148,40],[148,53,148,42,"status"],[148,59,148,69],[148,63,148,74],[149,6,149,4,"setScannerStatus"],[149,22,149,20],[149,23,149,21,"status"],[149,29,149,27],[149,30,149,28],[150,6,150,4,"setIsScanning"],[150,19,150,17],[150,20,150,18,"status"],[150,26,150,24],[150,27,150,25,"isScanning"],[150,37,150,35],[150,38,150,36],[151,4,151,2],[151,5,151,3],[151,7,151,5],[151,9,151,7],[151,10,151,8],[153,4,153,2],[154,0,154,0],[155,0,155,0],[156,4,156,2],[156,8,156,8,"startScanning"],[156,21,156,21],[156,24,156,24],[156,28,156,24,"useCallback"],[156,34,156,35],[156,35,156,35,"useCallback"],[156,46,156,35],[157,6,156,35],[157,10,156,35,"_ref2"],[157,15,156,35],[157,22,156,35,"_asyncToGenerator"],[157,39,156,35],[157,40,156,35,"default"],[157,47,156,35],[157,49,156,36],[157,60,156,43,"options"],[157,67,156,73],[157,69,156,96],[158,8,157,4],[158,12,157,8,"Platform"],[158,24,157,16],[158,25,157,16,"Platform"],[158,33,157,16],[158,34,157,17,"OS"],[158,36,157,19],[158,41,157,24],[158,46,157,29],[158,48,157,31],[159,10,158,6,"console"],[159,17,158,13],[159,18,158,14,"log"],[159,21,158,17],[159,22,158,18],[159,67,158,63],[159,68,158,64],[160,10,159,6,"setScannerStatus"],[160,26,159,22],[160,27,159,23],[161,12,160,8,"isScanning"],[161,22,160,18],[161,24,160,20],[161,29,160,25],[162,12,161,8,"bluetoothEnabled"],[162,28,161,24],[162,30,161,26],[162,35,161,31],[163,12,162,8,"permissionsGranted"],[163,30,162,26],[163,32,162,28],[163,37,162,33],[164,12,163,8,"error"],[164,17,163,13],[164,19,163,15],[165,10,164,6],[165,11,164,7],[165,12,164,8],[166,10,165,6],[166,17,165,13],[166,22,165,18],[167,8,166,4],[168,8,168,4],[168,12,168,10,"success"],[168,19,168,17],[168,28,168,26,"beaconScanner"],[168,50,168,39],[168,51,168,39,"beaconScanner"],[168,64,168,39],[168,65,168,40,"startScanning"],[168,78,168,53],[168,79,169,6,"handleBeaconsFound"],[168,97,169,24],[168,99,170,6,"handleStatusChange"],[168,117,170,24],[168,119,171,6,"options"],[168,126,172,4],[168,127,172,5],[169,8,174,4],[169,15,174,11,"success"],[169,22,174,18],[170,6,175,2],[170,7,175,3],[171,6,175,3],[171,23,175,3,"_x2"],[171,26,175,3],[172,8,175,3],[172,15,175,3,"_ref2"],[172,20,175,3],[172,21,175,3,"apply"],[172,26,175,3],[172,33,175,3,"arguments"],[172,42,175,3],[173,6,175,3],[174,4,175,3],[174,9,175,5],[174,10,175,6,"handleBeaconsFound"],[174,28,175,24],[174,30,175,26,"handleStatusChange"],[174,48,175,44],[174,49,175,45],[174,50,175,46],[176,4,177,2],[177,0,178,0],[178,0,179,0],[179,4,180,2],[179,8,180,8,"stopScanning"],[179,20,180,20],[179,23,180,23],[179,27,180,23,"useCallback"],[179,33,180,34],[179,34,180,34,"useCallback"],[179,45,180,34],[179,47,180,35],[179,53,180,41],[180,6,181,4,"beaconScanner"],[180,28,181,17],[180,29,181,17,"beaconScanner"],[180,42,181,17],[180,43,181,18,"stopScanning"],[180,55,181,30],[180,56,181,31],[180,57,181,32],[181,6,182,4,"setIsScanning"],[181,19,182,17],[181,20,182,18],[181,25,182,23],[181,26,182,24],[182,6,183,4,"setScannedBeacons"],[182,23,183,21],[182,24,183,22],[182,26,183,24],[182,27,183,25],[183,4,184,2],[183,5,184,3],[183,7,184,5],[183,9,184,7],[183,10,184,8],[185,4,186,2],[186,0,187,0],[187,0,188,0],[188,4,189,2],[188,8,189,8,"navigateTo"],[188,18,189,18],[188,21,189,21],[188,25,189,21,"useCallback"],[188,31,189,32],[188,32,189,32,"useCallback"],[188,43,189,32],[189,6,189,32],[189,10,189,32,"_ref3"],[189,15,189,32],[189,22,189,32,"_asyncToGenerator"],[189,39,189,32],[189,40,189,32,"default"],[189,47,189,32],[189,49,189,33],[189,60,189,40,"destX"],[189,65,189,53],[189,67,189,55,"destY"],[189,72,189,68],[189,74,189,109],[190,8,190,4],[190,12,190,10,"position"],[190,20,190,18],[190,23,190,21,"currentPositionRef"],[190,41,190,39],[190,42,190,40,"current"],[190,49,190,47],[191,8,192,4],[191,12,192,8],[191,13,192,9,"position"],[191,21,192,17],[191,25,192,21],[191,26,192,22,"position"],[191,34,192,30],[191,35,192,31,"valid"],[191,40,192,36],[191,42,192,38],[192,10,193,6,"console"],[192,17,193,13],[192,18,193,14,"error"],[192,23,193,19],[192,24,193,20],[192,81,193,77],[192,82,193,78],[193,10,194,6],[193,17,194,13],[193,21,194,17],[194,8,195,4],[195,8,197,4],[195,12,197,8],[196,10,198,6,"setIsNavigating"],[196,25,198,21],[196,26,198,22],[196,30,198,26],[196,31,198,27],[197,10,200,6],[197,14,200,12,"request"],[197,21,200,38],[197,24,200,41],[198,12,201,8,"buildingId"],[198,22,201,18],[198,24,201,20,"position"],[198,32,201,28],[198,33,201,29,"buildingId"],[198,43,201,39],[199,12,202,8,"floorId"],[199,19,202,15],[199,21,202,17,"position"],[199,29,202,25],[199,30,202,26,"floorId"],[199,37,202,33],[200,12,203,8,"startX"],[200,18,203,14],[200,20,203,16,"position"],[200,28,203,24],[200,29,203,25,"x"],[200,30,203,26],[201,12,204,8,"startY"],[201,18,204,14],[201,20,204,16,"position"],[201,28,204,24],[201,29,204,25,"y"],[201,30,204,26],[202,12,205,8,"destX"],[202,17,205,13],[203,12,206,8,"destY"],[204,10,207,6],[204,11,207,7],[205,10,209,6],[205,14,209,12,"route"],[205,19,209,17],[205,28,209,26,"navigationApi"],[205,40,209,39],[205,41,209,39,"navigationApi"],[205,54,209,39],[205,55,209,40,"computeRoute"],[205,67,209,52],[205,68,209,53,"request"],[205,75,209,60],[205,76,209,61],[206,10,210,6,"setNavigationRoute"],[206,28,210,24],[206,29,210,25,"route"],[206,34,210,30],[206,35,210,31],[207,10,211,6],[208,10,212,6],[208,14,212,10],[209,12,213,8,"setNavigationRouteStore"],[209,35,213,31],[209,36,213,32,"route"],[209,41,213,37],[209,42,213,38],[210,10,214,6],[210,11,214,7],[210,12,214,8],[210,19,214,15,"e"],[210,20,214,16],[210,22,214,18],[211,12,215,8,"console"],[211,19,215,15],[211,20,215,16,"warn"],[211,24,215,20],[211,25,215,21],[211,85,215,81],[211,87,215,83,"e"],[211,88,215,84],[211,89,215,85],[212,10,216,6],[213,10,218,6,"console"],[213,17,218,13],[213,18,218,14,"log"],[213,21,218,17],[213,22,218,18],[213,62,218,58,"route"],[213,67,218,63],[213,68,218,64,"route"],[213,73,218,69],[213,74,218,70,"length"],[213,80,218,76],[213,92,218,88,"route"],[213,97,218,93],[213,98,218,94,"totalDistance"],[213,111,218,107],[213,112,218,108,"toFixed"],[213,119,218,115],[213,120,218,116],[213,121,218,117],[213,122,218,118],[213,130,218,126],[213,131,218,127],[214,10,220,6],[214,17,220,13,"route"],[214,22,220,18],[215,8,221,4],[215,9,221,5],[215,10,221,6],[215,17,221,13,"error"],[215,22,221,18],[215,24,221,20],[216,10,222,6,"console"],[216,17,222,13],[216,18,222,14,"error"],[216,23,222,19],[216,24,222,20],[216,62,222,58],[216,64,222,60,"error"],[216,69,222,65],[216,70,222,66],[217,10,223,6],[217,17,223,13],[217,21,223,17],[218,8,224,4],[218,9,224,5],[218,18,224,14],[219,10,225,6,"setIsNavigating"],[219,25,225,21],[219,26,225,22],[219,31,225,27],[219,32,225,28],[220,8,226,4],[221,6,227,2],[221,7,227,3],[222,6,227,3],[222,23,227,3,"_x3"],[222,26,227,3],[222,28,227,3,"_x4"],[222,31,227,3],[223,8,227,3],[223,15,227,3,"_ref3"],[223,20,227,3],[223,21,227,3,"apply"],[223,26,227,3],[223,33,227,3,"arguments"],[223,42,227,3],[224,6,227,3],[225,4,227,3],[225,9,227,5],[225,11,227,7],[225,12,227,8],[227,4,229,2],[228,0,230,0],[229,0,231,0],[230,4,232,2],[230,8,232,8,"clearNavigation"],[230,23,232,23],[230,26,232,26],[230,30,232,26,"useCallback"],[230,36,232,37],[230,37,232,37,"useCallback"],[230,48,232,37],[230,50,232,38],[230,56,232,44],[231,6,233,4,"setNavigationRoute"],[231,24,233,22],[231,25,233,23],[231,29,233,27],[231,30,233,28],[232,4,234,2],[232,5,234,3],[232,7,234,5],[232,9,234,7],[232,10,234,8],[234,4,236,2],[235,0,237,0],[236,0,238,0],[237,4,239,2],[237,8,239,2,"useEffect"],[237,14,239,11],[237,15,239,11,"useEffect"],[237,24,239,11],[237,26,239,12],[237,32,239,18],[238,6,240,4],[238,13,240,11],[238,19,240,17],[239,8,241,6,"beaconScanner"],[239,30,241,19],[239,31,241,19,"beaconScanner"],[239,44,241,19],[239,45,241,20,"stopScanning"],[239,57,241,32],[239,58,241,33],[239,59,241,34],[240,6,242,4],[240,7,242,5],[241,4,243,2],[241,5,243,3],[241,7,243,5],[241,9,243,7],[241,10,243,8],[242,4,245,2],[242,11,245,9],[243,6,246,4],[244,6,247,4,"isScanning"],[244,16,247,14],[245,6,248,4,"scannerStatus"],[245,19,248,17],[246,6,249,4,"scannedBeacons"],[246,20,249,18],[247,6,251,4],[248,6,252,4,"currentPosition"],[248,21,252,19],[249,6,253,4,"isPositioning"],[249,19,253,17],[250,6,254,4,"positionError"],[250,19,254,17],[251,6,256,4],[252,6,257,4,"navigationRoute"],[252,21,257,19],[253,6,258,4,"isNavigating"],[253,18,258,16],[254,6,260,4],[255,6,261,4,"startScanning"],[255,19,261,17],[256,6,262,4,"stopScanning"],[256,18,262,16],[257,6,263,4,"navigateTo"],[257,16,263,14],[258,6,264,4,"clearNavigation"],[259,4,265,2],[259,5,265,3],[260,2,266,0],[261,2,266,1,"_s"],[261,4,266,1],[261,5,48,16,"useBeaconScanner"],[261,21,48,32],[262,4,48,32],[262,12,69,26,"useAppStore"],[262,26,69,37],[262,27,69,37,"useAppStore"],[262,38,69,37],[262,40,70,34,"useAppStore"],[262,54,70,45],[262,55,70,45,"useAppStore"],[262,66,70,45],[263,2,70,45],[264,0,70,45],[264,3]],"functionMap":{"names":["<global>","useBeaconScanner","useAppStore$argument_0","useEffect$argument_0","handleBeaconsFound","beacons.reduce$argument_0","beacons.map$argument_0","beacons.map.filter$argument_0","handleStatusChange","startScanning","stopScanning","navigateTo","clearNavigation","<anonymous>"],"mappings":"AAA;OC+C;sCCqB,wBD;8CCC,2BD;YEG;GFE;yCGK;qCCO;KDG;aES;UFK;gBGC,iCH;GHsC;yCOK;GPG;oCQK;GRmB;mCSK;GTI;iCUK;GVsC;sCWK;GXE;YEK;WUC;KVE;GFC;CDuB"},"hasCjsExports":false},"type":"js/module"}]}
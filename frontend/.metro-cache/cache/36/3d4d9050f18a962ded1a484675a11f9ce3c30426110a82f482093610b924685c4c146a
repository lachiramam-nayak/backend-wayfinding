{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":85},"end":{"line":6,"column":65,"index":150}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":151},"end":{"line":7,"column":40,"index":191}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":192},"end":{"line":8,"column":62,"index":254}}],"key":"/bohzyw2mCiLwBL1LhK3cj9dt4o=","exportNames":["*"],"imports":1}},{"name":"../services/beaconScanner","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":255},"end":{"line":14,"column":35,"index":379}}],"key":"BHEtprxFZbpJurUGq47L1Pm/D5Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":380},"end":{"line":23,"column":25,"index":514}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useBeaconScanner Hook\n   * React hook for iBeacon scanning and positioning\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useBeaconScanner = useBeaconScanner;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _storeAppStore = require(_dependencyMap[4], \"../store/appStore\");\n  var _servicesBeaconScanner = require(_dependencyMap[5], \"../services/beaconScanner\");\n  var _servicesApi = require(_dependencyMap[6], \"../services/api\");\n  function useBeaconScanner() {\n    _s();\n    // Scanner state\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      isScanning = _useState2[0],\n      setIsScanning = _useState2[1];\n    var _useState3 = (0, _react.useState)({\n        isScanning: false,\n        bluetoothEnabled: false,\n        permissionsGranted: false\n      }),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      scannerStatus = _useState4[0],\n      setScannerStatus = _useState4[1];\n    var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      scannedBeacons = _useState6[0],\n      setScannedBeacons = _useState6[1];\n\n    // Position state\n    var _useState7 = (0, _react.useState)(null),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      currentPosition = _useState8[0],\n      setCurrentPosition = _useState8[1];\n    var _useState9 = (0, _react.useState)(false),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      isPositioning = _useState0[0],\n      setIsPositioning = _useState0[1];\n    var _useState1 = (0, _react.useState)(null),\n      _useState10 = (0, _slicedToArray.default)(_useState1, 2),\n      positionError = _useState10[0],\n      setPositionError = _useState10[1];\n\n    // Navigation state\n    var _useState11 = (0, _react.useState)(null),\n      _useState12 = (0, _slicedToArray.default)(_useState11, 2),\n      navigationRoute = _useState12[0],\n      setNavigationRoute = _useState12[1];\n    var _useState13 = (0, _react.useState)(false),\n      _useState14 = (0, _slicedToArray.default)(_useState13, 2),\n      isNavigating = _useState14[0],\n      setIsNavigating = _useState14[1];\n\n    // Refs to track latest values in callbacks\n    var currentPositionRef = (0, _react.useRef)(null);\n    var rssiThresholdRef = (0, _react.useRef)(-75);\n    var setUserLocation = (0, _storeAppStore.useAppStore)(s => s.setUserLocation);\n    var setNavigationRouteStore = (0, _storeAppStore.useAppStore)(s => s.setNavigationRoute);\n\n    // Update ref when position changes\n    (0, _react.useEffect)(() => {\n      currentPositionRef.current = currentPosition;\n    }, [currentPosition]);\n\n    /**\n     * Handle incoming beacon data and compute position\n     */\n    var handleBeaconsFound = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (beacons) {\n        setScannedBeacons(beacons);\n        if (beacons.length === 0) {\n          return;\n        }\n        var strongest = beacons.reduce((best, current) => {\n          if (!best) return current;\n          var bestR = typeof best.avgRssi === 'number' ? best.avgRssi : best.rssi;\n          var curR = typeof current.avgRssi === 'number' ? current.avgRssi : current.rssi;\n          return curR > bestR ? current : best;\n        }, beacons[0]);\n        try {\n          setIsPositioning(true);\n          setPositionError(null);\n\n          // Use only the strongest beacon for a single-beacon lookup\n          var THRESHOLD = rssiThresholdRef.current ?? -75;\n          var rssiValue = Math.round(strongest.avgRssi ?? strongest.rssi);\n          if (typeof rssiValue !== 'number' || rssiValue < THRESHOLD) {\n            setPositionError(`No beacon with sufficient RSSI (threshold ${THRESHOLD} dBm)`);\n            return;\n          }\n          var macField = strongest.mac ?? strongest.observedAddress ?? strongest.advId ?? '';\n          if (!macField || macField.length === 0) {\n            setPositionError('Strongest beacon has no identifiable MAC/ID');\n            return;\n          }\n          var payload = [{\n            mac: macField,\n            rssi: rssiValue,\n            observedAddress: strongest.observedAddress,\n            advId: strongest.advId\n          }];\n          console.log('[Positioning] sending strongest beacon payload:', payload);\n          var position = yield _servicesApi.positioningApi.computePosition(payload);\n          if (position.valid) {\n            setCurrentPosition(position);\n\n            // Update global store user location so IndoorMapViewer and other components react\n            try {\n              var userLoc = {\n                building_id: position.buildingId,\n                floor_id: position.floorId,\n                x: position.x,\n                y: position.y,\n                source: 'beacon',\n                timestamp: new Date()\n              };\n              setUserLocation(userLoc);\n            } catch (e) {\n              console.warn('[useBeaconScanner] Failed to set user location in store', e);\n            }\n            console.log(`[useBeaconScanner] Position (from strongest beacon): (${position.x.toFixed(1)}, ${position.y.toFixed(1)}) on ${position.floorName}`);\n          } else {\n            setPositionError(position.errorMessage || 'Position computation failed');\n          }\n        } catch (error) {\n          console.error('[useBeaconScanner] Position error:', error);\n          setPositionError(error instanceof Error ? error.message : 'Unknown error');\n        } finally {\n          setIsPositioning(false);\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Handle scanner status changes\n     */\n    var handleStatusChange = (0, _react.useCallback)(status => {\n      setScannerStatus(status);\n      setIsScanning(status.isScanning);\n    }, []);\n\n    /**\n     * Start beacon scanning\n     */\n    var startScanning = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (options) {\n        if (_reactNative.Platform.OS === 'web') {\n          console.log('[useBeaconScanner] BLE not available on web');\n          setScannerStatus({\n            isScanning: false,\n            bluetoothEnabled: false,\n            permissionsGranted: false,\n            error: 'BLE scanning requires a physical Android device'\n          });\n          return false;\n        }\n\n        // store the configured RSSI threshold so the handler uses the same value\n        rssiThresholdRef.current = options?.rssiThreshold ?? -75;\n        var success = yield _servicesBeaconScanner.beaconScanner.startScanning(handleBeaconsFound, handleStatusChange, options);\n        return success;\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [handleBeaconsFound, handleStatusChange]);\n\n    /**\n     * Stop beacon scanning\n     */\n    var stopScanning = (0, _react.useCallback)(() => {\n      _servicesBeaconScanner.beaconScanner.stopScanning();\n      setIsScanning(false);\n      setScannedBeacons([]);\n    }, []);\n\n    /**\n     * Navigate to a destination\n     */\n    var navigateTo = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (destX, destY) {\n        var position = currentPositionRef.current;\n        if (!position || !position.valid) {\n          console.error('[useBeaconScanner] Cannot navigate: no current position');\n          return null;\n        }\n        try {\n          setIsNavigating(true);\n          var request = {\n            buildingId: position.buildingId,\n            floorId: position.floorId,\n            startX: position.x,\n            startY: position.y,\n            destX,\n            destY\n          };\n          var route = yield _servicesApi.navigationApi.computeRoute(request);\n          setNavigationRoute(route);\n          // persist route to global store so map reads it\n          try {\n            setNavigationRouteStore(route);\n          } catch (e) {\n            console.warn('[useBeaconScanner] Failed to set navigation route in store', e);\n          }\n          console.log(`[useBeaconScanner] Navigation route: ${route.route.length} points, ${route.totalDistance.toFixed(1)} units`);\n          return route;\n        } catch (error) {\n          console.error('[useBeaconScanner] Navigation error:', error);\n          return null;\n        } finally {\n          setIsNavigating(false);\n        }\n      });\n      return function (_x3, _x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }(), []);\n\n    /**\n     * Clear navigation route\n     */\n    var clearNavigation = (0, _react.useCallback)(() => {\n      setNavigationRoute(null);\n    }, []);\n\n    /**\n     * Cleanup on unmount\n     */\n    (0, _react.useEffect)(() => {\n      return () => {\n        _servicesBeaconScanner.beaconScanner.stopScanning();\n      };\n    }, []);\n    return {\n      // Scanner state\n      isScanning,\n      scannerStatus,\n      scannedBeacons,\n      // Position state\n      currentPosition,\n      isPositioning,\n      positionError,\n      // Navigation state\n      navigationRoute,\n      isNavigating,\n      // Actions\n      startScanning,\n      stopScanning,\n      navigateTo,\n      clearNavigation\n    };\n  }\n  _s(useBeaconScanner, \"hCqfdza7zFvr7GW7HLM2ZNFpTxc=\", false, function () {\n    return [_storeAppStore.useAppStore, _storeAppStore.useAppStore];\n  });\n});","lineCount":276,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,48,0,"exports"],[17,9,48,0],[17,10,48,0,"useBeaconScanner"],[17,26,48,0],[17,29,48,0,"useBeaconScanner"],[17,45,48,0],[18,2,278,1],[18,6,278,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,278,1],[18,45,278,1,"require"],[18,52,278,1],[18,53,278,1,"_dependencyMap"],[18,67,278,1],[19,2,278,1],[19,6,278,1,"_asyncToGenerator"],[19,23,278,1],[19,26,278,1,"_interopDefault"],[19,41,278,1],[19,42,278,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,278,1],[20,2,278,1],[20,6,278,1,"_babelRuntimeHelpersSlicedToArray"],[20,39,278,1],[20,42,278,1,"require"],[20,49,278,1],[20,50,278,1,"_dependencyMap"],[20,64,278,1],[21,2,278,1],[21,6,278,1,"_slicedToArray"],[21,20,278,1],[21,23,278,1,"_interopDefault"],[21,38,278,1],[21,39,278,1,"_babelRuntimeHelpersSlicedToArray"],[21,72,278,1],[22,2,6,0],[22,6,6,0,"_react"],[22,12,6,0],[22,15,6,0,"require"],[22,22,6,0],[22,23,6,0,"_dependencyMap"],[22,37,6,0],[23,2,7,0],[23,6,7,0,"_reactNative"],[23,18,7,0],[23,21,7,0,"require"],[23,28,7,0],[23,29,7,0,"_dependencyMap"],[23,43,7,0],[24,2,8,0],[24,6,8,0,"_storeAppStore"],[24,20,8,0],[24,23,8,0,"require"],[24,30,8,0],[24,31,8,0,"_dependencyMap"],[24,45,8,0],[25,2,9,0],[25,6,9,0,"_servicesBeaconScanner"],[25,28,9,0],[25,31,9,0,"require"],[25,38,9,0],[25,39,9,0,"_dependencyMap"],[25,53,9,0],[26,2,15,0],[26,6,15,0,"_servicesApi"],[26,18,15,0],[26,21,15,0,"require"],[26,28,15,0],[26,29,15,0,"_dependencyMap"],[26,43,15,0],[27,2,48,7],[27,11,48,16,"useBeaconScanner"],[27,27,48,32,"useBeaconScanner"],[27,28,48,32],[27,30,48,59],[28,4,48,59,"_s"],[28,6,48,59],[29,4,49,2],[30,4,50,2],[30,8,50,2,"_useState"],[30,17,50,2],[30,20,50,38],[30,24,50,38,"useState"],[30,30,50,46],[30,31,50,46,"useState"],[30,39,50,46],[30,41,50,47],[30,46,50,52],[30,47,50,53],[31,6,50,53,"_useState2"],[31,16,50,53],[31,23,50,53,"_slicedToArray"],[31,37,50,53],[31,38,50,53,"default"],[31,45,50,53],[31,47,50,53,"_useState"],[31,56,50,53],[32,6,50,9,"isScanning"],[32,16,50,19],[32,19,50,19,"_useState2"],[32,29,50,19],[33,6,50,21,"setIsScanning"],[33,19,50,34],[33,22,50,34,"_useState2"],[33,32,50,34],[34,4,51,2],[34,8,51,2,"_useState3"],[34,18,51,2],[34,21,51,44],[34,25,51,44,"useState"],[34,31,51,52],[34,32,51,52,"useState"],[34,40,51,52],[34,42,51,74],[35,8,52,4,"isScanning"],[35,18,52,14],[35,20,52,16],[35,25,52,21],[36,8,53,4,"bluetoothEnabled"],[36,24,53,20],[36,26,53,22],[36,31,53,27],[37,8,54,4,"permissionsGranted"],[37,26,54,22],[37,28,54,24],[38,6,55,2],[38,7,55,3],[38,8,55,4],[39,6,55,4,"_useState4"],[39,16,55,4],[39,23,55,4,"_slicedToArray"],[39,37,55,4],[39,38,55,4,"default"],[39,45,55,4],[39,47,55,4,"_useState3"],[39,57,55,4],[40,6,51,9,"scannerStatus"],[40,19,51,22],[40,22,51,22,"_useState4"],[40,32,51,22],[41,6,51,24,"setScannerStatus"],[41,22,51,40],[41,25,51,40,"_useState4"],[41,35,51,40],[42,4,56,2],[42,8,56,2,"_useState5"],[42,18,56,2],[42,21,56,46],[42,25,56,46,"useState"],[42,31,56,54],[42,32,56,54,"useState"],[42,40,56,54],[42,42,56,72],[42,44,56,74],[42,45,56,75],[43,6,56,75,"_useState6"],[43,16,56,75],[43,23,56,75,"_slicedToArray"],[43,37,56,75],[43,38,56,75,"default"],[43,45,56,75],[43,47,56,75,"_useState5"],[43,57,56,75],[44,6,56,9,"scannedBeacons"],[44,20,56,23],[44,23,56,23,"_useState6"],[44,33,56,23],[45,6,56,25,"setScannedBeacons"],[45,23,56,42],[45,26,56,42,"_useState6"],[45,36,56,42],[47,4,58,2],[48,4,59,2],[48,8,59,2,"_useState7"],[48,18,59,2],[48,21,59,48],[48,25,59,48,"useState"],[48,31,59,56],[48,32,59,56,"useState"],[48,40,59,56],[48,42,59,82],[48,46,59,86],[48,47,59,87],[49,6,59,87,"_useState8"],[49,16,59,87],[49,23,59,87,"_slicedToArray"],[49,37,59,87],[49,38,59,87,"default"],[49,45,59,87],[49,47,59,87,"_useState7"],[49,57,59,87],[50,6,59,9,"currentPosition"],[50,21,59,24],[50,24,59,24,"_useState8"],[50,34,59,24],[51,6,59,26,"setCurrentPosition"],[51,24,59,44],[51,27,59,44,"_useState8"],[51,37,59,44],[52,4,60,2],[52,8,60,2,"_useState9"],[52,18,60,2],[52,21,60,44],[52,25,60,44,"useState"],[52,31,60,52],[52,32,60,52,"useState"],[52,40,60,52],[52,42,60,53],[52,47,60,58],[52,48,60,59],[53,6,60,59,"_useState0"],[53,16,60,59],[53,23,60,59,"_slicedToArray"],[53,37,60,59],[53,38,60,59,"default"],[53,45,60,59],[53,47,60,59,"_useState9"],[53,57,60,59],[54,6,60,9,"isPositioning"],[54,19,60,22],[54,22,60,22,"_useState0"],[54,32,60,22],[55,6,60,24,"setIsPositioning"],[55,22,60,40],[55,25,60,40,"_useState0"],[55,35,60,40],[56,4,61,2],[56,8,61,2,"_useState1"],[56,18,61,2],[56,21,61,44],[56,25,61,44,"useState"],[56,31,61,52],[56,32,61,52,"useState"],[56,40,61,52],[56,42,61,68],[56,46,61,72],[56,47,61,73],[57,6,61,73,"_useState10"],[57,17,61,73],[57,24,61,73,"_slicedToArray"],[57,38,61,73],[57,39,61,73,"default"],[57,46,61,73],[57,48,61,73,"_useState1"],[57,58,61,73],[58,6,61,9,"positionError"],[58,19,61,22],[58,22,61,22,"_useState10"],[58,33,61,22],[59,6,61,24,"setPositionError"],[59,22,61,40],[59,25,61,40,"_useState10"],[59,36,61,40],[61,4,63,2],[62,4,64,2],[62,8,64,2,"_useState11"],[62,19,64,2],[62,22,64,48],[62,26,64,48,"useState"],[62,32,64,56],[62,33,64,56,"useState"],[62,41,64,56],[62,43,64,84],[62,47,64,88],[62,48,64,89],[63,6,64,89,"_useState12"],[63,17,64,89],[63,24,64,89,"_slicedToArray"],[63,38,64,89],[63,39,64,89,"default"],[63,46,64,89],[63,48,64,89,"_useState11"],[63,59,64,89],[64,6,64,9,"navigationRoute"],[64,21,64,24],[64,24,64,24,"_useState12"],[64,35,64,24],[65,6,64,26,"setNavigationRoute"],[65,24,64,44],[65,27,64,44,"_useState12"],[65,38,64,44],[66,4,65,2],[66,8,65,2,"_useState13"],[66,19,65,2],[66,22,65,42],[66,26,65,42,"useState"],[66,32,65,50],[66,33,65,50,"useState"],[66,41,65,50],[66,43,65,51],[66,48,65,56],[66,49,65,57],[67,6,65,57,"_useState14"],[67,17,65,57],[67,24,65,57,"_slicedToArray"],[67,38,65,57],[67,39,65,57,"default"],[67,46,65,57],[67,48,65,57,"_useState13"],[67,59,65,57],[68,6,65,9,"isNavigating"],[68,18,65,21],[68,21,65,21,"_useState14"],[68,32,65,21],[69,6,65,23,"setIsNavigating"],[69,21,65,38],[69,24,65,38,"_useState14"],[69,35,65,38],[71,4,67,2],[72,4,68,2],[72,8,68,8,"currentPositionRef"],[72,26,68,26],[72,29,68,29],[72,33,68,29,"useRef"],[72,39,68,35],[72,40,68,35,"useRef"],[72,46,68,35],[72,48,68,61],[72,52,68,65],[72,53,68,66],[73,4,69,2],[73,8,69,8,"rssiThresholdRef"],[73,24,69,24],[73,27,69,27],[73,31,69,27,"useRef"],[73,37,69,33],[73,38,69,33,"useRef"],[73,44,69,33],[73,46,69,42],[73,47,69,43],[73,49,69,45],[73,50,69,46],[74,4,70,2],[74,8,70,8,"setUserLocation"],[74,23,70,23],[74,26,70,26],[74,30,70,26,"useAppStore"],[74,44,70,37],[74,45,70,37,"useAppStore"],[74,56,70,37],[74,58,70,39,"s"],[74,59,70,40],[74,63,70,45,"s"],[74,64,70,46],[74,65,70,47,"setUserLocation"],[74,80,70,62],[74,81,70,63],[75,4,71,2],[75,8,71,8,"setNavigationRouteStore"],[75,31,71,31],[75,34,71,34],[75,38,71,34,"useAppStore"],[75,52,71,45],[75,53,71,45,"useAppStore"],[75,64,71,45],[75,66,71,47,"s"],[75,67,71,48],[75,71,71,53,"s"],[75,72,71,54],[75,73,71,55,"setNavigationRoute"],[75,91,71,73],[75,92,71,74],[77,4,73,2],[78,4,74,2],[78,8,74,2,"useEffect"],[78,14,74,11],[78,15,74,11,"useEffect"],[78,24,74,11],[78,26,74,12],[78,32,74,18],[79,6,75,4,"currentPositionRef"],[79,24,75,22],[79,25,75,23,"current"],[79,32,75,30],[79,35,75,33,"currentPosition"],[79,50,75,48],[80,4,76,2],[80,5,76,3],[80,7,76,5],[80,8,76,6,"currentPosition"],[80,23,76,21],[80,24,76,22],[80,25,76,23],[82,4,78,2],[83,0,79,0],[84,0,80,0],[85,4,81,2],[85,8,81,8,"handleBeaconsFound"],[85,26,81,26],[85,29,81,29],[85,33,81,29,"useCallback"],[85,39,81,40],[85,40,81,40,"useCallback"],[85,51,81,40],[86,6,81,40],[86,10,81,40,"_ref"],[86,14,81,40],[86,21,81,40,"_asyncToGenerator"],[86,38,81,40],[86,39,81,40,"default"],[86,46,81,40],[86,48,81,41],[86,59,81,48,"beacons"],[86,66,81,72],[86,68,81,77],[87,8,82,4,"setScannedBeacons"],[87,25,82,21],[87,26,82,22,"beacons"],[87,33,82,29],[87,34,82,30],[88,8,84,4],[88,12,84,8,"beacons"],[88,19,84,15],[88,20,84,16,"length"],[88,26,84,22],[88,31,84,27],[88,32,84,28],[88,34,84,30],[89,10,85,6],[90,8,86,4],[91,8,88,4],[91,12,88,10,"strongest"],[91,21,88,19],[91,24,88,22,"beacons"],[91,31,88,29],[91,32,88,30,"reduce"],[91,38,88,36],[91,39,88,37],[91,40,88,38,"best"],[91,44,88,42],[91,46,88,44,"current"],[91,53,88,51],[91,58,88,56],[92,10,89,6],[92,14,89,10],[92,15,89,11,"best"],[92,19,89,15],[92,21,89,17],[92,28,89,24,"current"],[92,35,89,31],[93,10,90,6],[93,14,90,12,"bestR"],[93,19,90,17],[93,22,90,20],[93,29,90,27,"best"],[93,33,90,31],[93,34,90,32,"avgRssi"],[93,41,90,39],[93,46,90,44],[93,54,90,52],[93,57,90,55,"best"],[93,61,90,59],[93,62,90,60,"avgRssi"],[93,69,90,67],[93,72,90,70,"best"],[93,76,90,74],[93,77,90,75,"rssi"],[93,81,90,79],[94,10,91,6],[94,14,91,12,"curR"],[94,18,91,16],[94,21,91,19],[94,28,91,26,"current"],[94,35,91,33],[94,36,91,34,"avgRssi"],[94,43,91,41],[94,48,91,46],[94,56,91,54],[94,59,91,57,"current"],[94,66,91,64],[94,67,91,65,"avgRssi"],[94,74,91,72],[94,77,91,75,"current"],[94,84,91,82],[94,85,91,83,"rssi"],[94,89,91,87],[95,10,92,6],[95,17,92,13,"curR"],[95,21,92,17],[95,24,92,20,"bestR"],[95,29,92,25],[95,32,92,28,"current"],[95,39,92,35],[95,42,92,38,"best"],[95,46,92,42],[96,8,93,4],[96,9,93,5],[96,11,93,7,"beacons"],[96,18,93,14],[96,19,93,15],[96,20,93,16],[96,21,93,17],[96,22,93,18],[97,8,95,4],[97,12,95,8],[98,10,96,6,"setIsPositioning"],[98,26,96,22],[98,27,96,23],[98,31,96,27],[98,32,96,28],[99,10,97,6,"setPositionError"],[99,26,97,22],[99,27,97,23],[99,31,97,27],[99,32,97,28],[101,10,99,6],[102,10,100,6],[102,14,100,12,"THRESHOLD"],[102,23,100,21],[102,26,100,24,"rssiThresholdRef"],[102,42,100,40],[102,43,100,41,"current"],[102,50,100,48],[102,54,100,52],[102,55,100,53],[102,57,100,55],[103,10,101,6],[103,14,101,12,"rssiValue"],[103,23,101,21],[103,26,101,24,"Math"],[103,30,101,28],[103,31,101,29,"round"],[103,36,101,34],[103,37,101,36,"strongest"],[103,46,101,45],[103,47,101,46,"avgRssi"],[103,54,101,53],[103,58,101,57,"strongest"],[103,67,101,66],[103,68,101,67,"rssi"],[103,72,101,82],[103,73,101,83],[104,10,103,6],[104,14,103,10],[104,21,103,17,"rssiValue"],[104,30,103,26],[104,35,103,31],[104,43,103,39],[104,47,103,43,"rssiValue"],[104,56,103,52],[104,59,103,55,"THRESHOLD"],[104,68,103,64],[104,70,103,66],[105,12,104,8,"setPositionError"],[105,28,104,24],[105,29,104,25],[105,74,104,70,"THRESHOLD"],[105,83,104,79],[105,90,104,86],[105,91,104,87],[106,12,105,8],[107,10,106,6],[108,10,108,6],[108,14,108,12,"macField"],[108,22,108,20],[108,25,108,24,"strongest"],[108,34,108,33],[108,35,108,42,"mac"],[108,38,108,45],[108,42,108,50,"strongest"],[108,51,108,59],[108,52,108,68,"observedAddress"],[108,67,108,83],[108,71,108,88,"strongest"],[108,80,108,97],[108,81,108,106,"advId"],[108,86,108,111],[108,90,108,115],[108,92,108,117],[109,10,109,6],[109,14,109,10],[109,15,109,11,"macField"],[109,23,109,19],[109,27,109,23,"macField"],[109,35,109,31],[109,36,109,32,"length"],[109,42,109,38],[109,47,109,43],[109,48,109,44],[109,50,109,46],[110,12,110,8,"setPositionError"],[110,28,110,24],[110,29,110,25],[110,74,110,70],[110,75,110,71],[111,12,111,8],[112,10,112,6],[113,10,114,6],[113,14,114,12,"payload"],[113,21,114,19],[113,24,114,22],[113,25,114,23],[114,12,115,8,"mac"],[114,15,115,11],[114,17,115,13,"macField"],[114,25,115,21],[115,12,116,8,"rssi"],[115,16,116,12],[115,18,116,14,"rssiValue"],[115,27,116,23],[116,12,117,8,"observedAddress"],[116,27,117,23],[116,29,117,26,"strongest"],[116,38,117,35],[116,39,117,44,"observedAddress"],[116,54,117,59],[117,12,118,8,"advId"],[117,17,118,13],[117,19,118,16,"strongest"],[117,28,118,25],[117,29,118,34,"advId"],[118,10,119,6],[118,11,119,7],[118,12,119,8],[119,10,121,6,"console"],[119,17,121,13],[119,18,121,14,"log"],[119,21,121,17],[119,22,121,18],[119,71,121,67],[119,73,121,69,"payload"],[119,80,121,76],[119,81,121,77],[120,10,122,6],[120,14,122,12,"position"],[120,22,122,20],[120,31,122,29,"positioningApi"],[120,43,122,43],[120,44,122,43,"positioningApi"],[120,58,122,43],[120,59,122,44,"computePosition"],[120,74,122,59],[120,75,122,60,"payload"],[120,82,122,74],[120,83,122,75],[121,10,124,6],[121,14,124,10,"position"],[121,22,124,18],[121,23,124,19,"valid"],[121,28,124,24],[121,30,124,26],[122,12,125,8,"setCurrentPosition"],[122,30,125,26],[122,31,125,27,"position"],[122,39,125,35],[122,40,125,36],[124,12,127,8],[125,12,128,8],[125,16,128,12],[126,14,129,10],[126,18,129,16,"userLoc"],[126,25,129,37],[126,28,129,40],[127,16,130,12,"building_id"],[127,27,130,23],[127,29,130,25,"position"],[127,37,130,33],[127,38,130,34,"buildingId"],[127,48,130,44],[128,16,131,12,"floor_id"],[128,24,131,20],[128,26,131,22,"position"],[128,34,131,30],[128,35,131,31,"floorId"],[128,42,131,38],[129,16,132,12,"x"],[129,17,132,13],[129,19,132,15,"position"],[129,27,132,23],[129,28,132,24,"x"],[129,29,132,25],[130,16,133,12,"y"],[130,17,133,13],[130,19,133,15,"position"],[130,27,133,23],[130,28,133,24,"y"],[130,29,133,25],[131,16,134,12,"source"],[131,22,134,18],[131,24,134,20],[131,32,134,28],[132,16,135,12,"timestamp"],[132,25,135,21],[132,27,135,23],[132,31,135,27,"Date"],[132,35,135,31],[132,36,135,32],[133,14,136,10],[133,15,136,11],[134,14,137,10,"setUserLocation"],[134,29,137,25],[134,30,137,26,"userLoc"],[134,37,137,33],[134,38,137,34],[135,12,138,8],[135,13,138,9],[135,14,138,10],[135,21,138,17,"e"],[135,22,138,18],[135,24,138,20],[136,14,139,10,"console"],[136,21,139,17],[136,22,139,18,"warn"],[136,26,139,22],[136,27,139,23],[136,84,139,80],[136,86,139,82,"e"],[136,87,139,83],[136,88,139,84],[137,12,140,8],[138,12,142,8,"console"],[138,19,142,15],[138,20,142,16,"log"],[138,23,142,19],[138,24,142,20],[138,81,142,77,"position"],[138,89,142,85],[138,90,142,86,"x"],[138,91,142,87],[138,92,142,88,"toFixed"],[138,99,142,95],[138,100,142,96],[138,101,142,97],[138,102,142,98],[138,107,142,103,"position"],[138,115,142,111],[138,116,142,112,"y"],[138,117,142,113],[138,118,142,114,"toFixed"],[138,125,142,121],[138,126,142,122],[138,127,142,123],[138,128,142,124],[138,136,142,132,"position"],[138,144,142,140],[138,145,142,141,"floorName"],[138,154,142,150],[138,156,142,152],[138,157,142,153],[139,10,143,6],[139,11,143,7],[139,17,143,13],[140,12,144,8,"setPositionError"],[140,28,144,24],[140,29,144,25,"position"],[140,37,144,33],[140,38,144,34,"errorMessage"],[140,50,144,46],[140,54,144,50],[140,83,144,79],[140,84,144,80],[141,10,145,6],[142,8,146,4],[142,9,146,5],[142,10,146,6],[142,17,146,13,"error"],[142,22,146,18],[142,24,146,20],[143,10,147,6,"console"],[143,17,147,13],[143,18,147,14,"error"],[143,23,147,19],[143,24,147,20],[143,60,147,56],[143,62,147,58,"error"],[143,67,147,63],[143,68,147,64],[144,10,148,6,"setPositionError"],[144,26,148,22],[144,27,148,23,"error"],[144,32,148,28],[144,44,148,40,"Error"],[144,49,148,45],[144,52,148,48,"error"],[144,57,148,53],[144,58,148,54,"message"],[144,65,148,61],[144,68,148,64],[144,83,148,79],[144,84,148,80],[145,8,149,4],[145,9,149,5],[145,18,149,14],[146,10,150,6,"setIsPositioning"],[146,26,150,22],[146,27,150,23],[146,32,150,28],[146,33,150,29],[147,8,151,4],[148,6,152,2],[148,7,152,3],[149,6,152,3],[149,23,152,3,"_x"],[149,25,152,3],[150,8,152,3],[150,15,152,3,"_ref"],[150,19,152,3],[150,20,152,3,"apply"],[150,25,152,3],[150,32,152,3,"arguments"],[150,41,152,3],[151,6,152,3],[152,4,152,3],[152,9,152,5],[152,11,152,7],[152,12,152,8],[154,4,154,2],[155,0,155,0],[156,0,156,0],[157,4,157,2],[157,8,157,8,"handleStatusChange"],[157,26,157,26],[157,29,157,29],[157,33,157,29,"useCallback"],[157,39,157,40],[157,40,157,40,"useCallback"],[157,51,157,40],[157,53,157,42,"status"],[157,59,157,69],[157,63,157,74],[158,6,158,4,"setScannerStatus"],[158,22,158,20],[158,23,158,21,"status"],[158,29,158,27],[158,30,158,28],[159,6,159,4,"setIsScanning"],[159,19,159,17],[159,20,159,18,"status"],[159,26,159,24],[159,27,159,25,"isScanning"],[159,37,159,35],[159,38,159,36],[160,4,160,2],[160,5,160,3],[160,7,160,5],[160,9,160,7],[160,10,160,8],[162,4,162,2],[163,0,163,0],[164,0,164,0],[165,4,165,2],[165,8,165,8,"startScanning"],[165,21,165,21],[165,24,165,24],[165,28,165,24,"useCallback"],[165,34,165,35],[165,35,165,35,"useCallback"],[165,46,165,35],[166,6,165,35],[166,10,165,35,"_ref2"],[166,15,165,35],[166,22,165,35,"_asyncToGenerator"],[166,39,165,35],[166,40,165,35,"default"],[166,47,165,35],[166,49,165,36],[166,60,165,43,"options"],[166,67,165,73],[166,69,165,96],[167,8,166,4],[167,12,166,8,"Platform"],[167,24,166,16],[167,25,166,16,"Platform"],[167,33,166,16],[167,34,166,17,"OS"],[167,36,166,19],[167,41,166,24],[167,46,166,29],[167,48,166,31],[168,10,167,6,"console"],[168,17,167,13],[168,18,167,14,"log"],[168,21,167,17],[168,22,167,18],[168,67,167,63],[168,68,167,64],[169,10,168,6,"setScannerStatus"],[169,26,168,22],[169,27,168,23],[170,12,169,8,"isScanning"],[170,22,169,18],[170,24,169,20],[170,29,169,25],[171,12,170,8,"bluetoothEnabled"],[171,28,170,24],[171,30,170,26],[171,35,170,31],[172,12,171,8,"permissionsGranted"],[172,30,171,26],[172,32,171,28],[172,37,171,33],[173,12,172,8,"error"],[173,17,172,13],[173,19,172,15],[174,10,173,6],[174,11,173,7],[174,12,173,8],[175,10,174,6],[175,17,174,13],[175,22,174,18],[176,8,175,4],[178,8,177,4],[179,8,178,4,"rssiThresholdRef"],[179,24,178,20],[179,25,178,21,"current"],[179,32,178,28],[179,35,178,31,"options"],[179,42,178,38],[179,44,178,40,"rssiThreshold"],[179,57,178,53],[179,61,178,57],[179,62,178,58],[179,64,178,60],[180,8,180,4],[180,12,180,10,"success"],[180,19,180,17],[180,28,180,26,"beaconScanner"],[180,50,180,39],[180,51,180,39,"beaconScanner"],[180,64,180,39],[180,65,180,40,"startScanning"],[180,78,180,53],[180,79,181,6,"handleBeaconsFound"],[180,97,181,24],[180,99,182,6,"handleStatusChange"],[180,117,182,24],[180,119,183,6,"options"],[180,126,184,4],[180,127,184,5],[181,8,186,4],[181,15,186,11,"success"],[181,22,186,18],[182,6,187,2],[182,7,187,3],[183,6,187,3],[183,23,187,3,"_x2"],[183,26,187,3],[184,8,187,3],[184,15,187,3,"_ref2"],[184,20,187,3],[184,21,187,3,"apply"],[184,26,187,3],[184,33,187,3,"arguments"],[184,42,187,3],[185,6,187,3],[186,4,187,3],[186,9,187,5],[186,10,187,6,"handleBeaconsFound"],[186,28,187,24],[186,30,187,26,"handleStatusChange"],[186,48,187,44],[186,49,187,45],[186,50,187,46],[188,4,189,2],[189,0,190,0],[190,0,191,0],[191,4,192,2],[191,8,192,8,"stopScanning"],[191,20,192,20],[191,23,192,23],[191,27,192,23,"useCallback"],[191,33,192,34],[191,34,192,34,"useCallback"],[191,45,192,34],[191,47,192,35],[191,53,192,41],[192,6,193,4,"beaconScanner"],[192,28,193,17],[192,29,193,17,"beaconScanner"],[192,42,193,17],[192,43,193,18,"stopScanning"],[192,55,193,30],[192,56,193,31],[192,57,193,32],[193,6,194,4,"setIsScanning"],[193,19,194,17],[193,20,194,18],[193,25,194,23],[193,26,194,24],[194,6,195,4,"setScannedBeacons"],[194,23,195,21],[194,24,195,22],[194,26,195,24],[194,27,195,25],[195,4,196,2],[195,5,196,3],[195,7,196,5],[195,9,196,7],[195,10,196,8],[197,4,198,2],[198,0,199,0],[199,0,200,0],[200,4,201,2],[200,8,201,8,"navigateTo"],[200,18,201,18],[200,21,201,21],[200,25,201,21,"useCallback"],[200,31,201,32],[200,32,201,32,"useCallback"],[200,43,201,32],[201,6,201,32],[201,10,201,32,"_ref3"],[201,15,201,32],[201,22,201,32,"_asyncToGenerator"],[201,39,201,32],[201,40,201,32,"default"],[201,47,201,32],[201,49,201,33],[201,60,201,40,"destX"],[201,65,201,53],[201,67,201,55,"destY"],[201,72,201,68],[201,74,201,109],[202,8,202,4],[202,12,202,10,"position"],[202,20,202,18],[202,23,202,21,"currentPositionRef"],[202,41,202,39],[202,42,202,40,"current"],[202,49,202,47],[203,8,204,4],[203,12,204,8],[203,13,204,9,"position"],[203,21,204,17],[203,25,204,21],[203,26,204,22,"position"],[203,34,204,30],[203,35,204,31,"valid"],[203,40,204,36],[203,42,204,38],[204,10,205,6,"console"],[204,17,205,13],[204,18,205,14,"error"],[204,23,205,19],[204,24,205,20],[204,81,205,77],[204,82,205,78],[205,10,206,6],[205,17,206,13],[205,21,206,17],[206,8,207,4],[207,8,209,4],[207,12,209,8],[208,10,210,6,"setIsNavigating"],[208,25,210,21],[208,26,210,22],[208,30,210,26],[208,31,210,27],[209,10,212,6],[209,14,212,12,"request"],[209,21,212,38],[209,24,212,41],[210,12,213,8,"buildingId"],[210,22,213,18],[210,24,213,20,"position"],[210,32,213,28],[210,33,213,29,"buildingId"],[210,43,213,39],[211,12,214,8,"floorId"],[211,19,214,15],[211,21,214,17,"position"],[211,29,214,25],[211,30,214,26,"floorId"],[211,37,214,33],[212,12,215,8,"startX"],[212,18,215,14],[212,20,215,16,"position"],[212,28,215,24],[212,29,215,25,"x"],[212,30,215,26],[213,12,216,8,"startY"],[213,18,216,14],[213,20,216,16,"position"],[213,28,216,24],[213,29,216,25,"y"],[213,30,216,26],[214,12,217,8,"destX"],[214,17,217,13],[215,12,218,8,"destY"],[216,10,219,6],[216,11,219,7],[217,10,221,6],[217,14,221,12,"route"],[217,19,221,17],[217,28,221,26,"navigationApi"],[217,40,221,39],[217,41,221,39,"navigationApi"],[217,54,221,39],[217,55,221,40,"computeRoute"],[217,67,221,52],[217,68,221,53,"request"],[217,75,221,60],[217,76,221,61],[218,10,222,6,"setNavigationRoute"],[218,28,222,24],[218,29,222,25,"route"],[218,34,222,30],[218,35,222,31],[219,10,223,6],[220,10,224,6],[220,14,224,10],[221,12,225,8,"setNavigationRouteStore"],[221,35,225,31],[221,36,225,32,"route"],[221,41,225,37],[221,42,225,38],[222,10,226,6],[222,11,226,7],[222,12,226,8],[222,19,226,15,"e"],[222,20,226,16],[222,22,226,18],[223,12,227,8,"console"],[223,19,227,15],[223,20,227,16,"warn"],[223,24,227,20],[223,25,227,21],[223,85,227,81],[223,87,227,83,"e"],[223,88,227,84],[223,89,227,85],[224,10,228,6],[225,10,230,6,"console"],[225,17,230,13],[225,18,230,14,"log"],[225,21,230,17],[225,22,230,18],[225,62,230,58,"route"],[225,67,230,63],[225,68,230,64,"route"],[225,73,230,69],[225,74,230,70,"length"],[225,80,230,76],[225,92,230,88,"route"],[225,97,230,93],[225,98,230,94,"totalDistance"],[225,111,230,107],[225,112,230,108,"toFixed"],[225,119,230,115],[225,120,230,116],[225,121,230,117],[225,122,230,118],[225,130,230,126],[225,131,230,127],[226,10,232,6],[226,17,232,13,"route"],[226,22,232,18],[227,8,233,4],[227,9,233,5],[227,10,233,6],[227,17,233,13,"error"],[227,22,233,18],[227,24,233,20],[228,10,234,6,"console"],[228,17,234,13],[228,18,234,14,"error"],[228,23,234,19],[228,24,234,20],[228,62,234,58],[228,64,234,60,"error"],[228,69,234,65],[228,70,234,66],[229,10,235,6],[229,17,235,13],[229,21,235,17],[230,8,236,4],[230,9,236,5],[230,18,236,14],[231,10,237,6,"setIsNavigating"],[231,25,237,21],[231,26,237,22],[231,31,237,27],[231,32,237,28],[232,8,238,4],[233,6,239,2],[233,7,239,3],[234,6,239,3],[234,23,239,3,"_x3"],[234,26,239,3],[234,28,239,3,"_x4"],[234,31,239,3],[235,8,239,3],[235,15,239,3,"_ref3"],[235,20,239,3],[235,21,239,3,"apply"],[235,26,239,3],[235,33,239,3,"arguments"],[235,42,239,3],[236,6,239,3],[237,4,239,3],[237,9,239,5],[237,11,239,7],[237,12,239,8],[239,4,241,2],[240,0,242,0],[241,0,243,0],[242,4,244,2],[242,8,244,8,"clearNavigation"],[242,23,244,23],[242,26,244,26],[242,30,244,26,"useCallback"],[242,36,244,37],[242,37,244,37,"useCallback"],[242,48,244,37],[242,50,244,38],[242,56,244,44],[243,6,245,4,"setNavigationRoute"],[243,24,245,22],[243,25,245,23],[243,29,245,27],[243,30,245,28],[244,4,246,2],[244,5,246,3],[244,7,246,5],[244,9,246,7],[244,10,246,8],[246,4,248,2],[247,0,249,0],[248,0,250,0],[249,4,251,2],[249,8,251,2,"useEffect"],[249,14,251,11],[249,15,251,11,"useEffect"],[249,24,251,11],[249,26,251,12],[249,32,251,18],[250,6,252,4],[250,13,252,11],[250,19,252,17],[251,8,253,6,"beaconScanner"],[251,30,253,19],[251,31,253,19,"beaconScanner"],[251,44,253,19],[251,45,253,20,"stopScanning"],[251,57,253,32],[251,58,253,33],[251,59,253,34],[252,6,254,4],[252,7,254,5],[253,4,255,2],[253,5,255,3],[253,7,255,5],[253,9,255,7],[253,10,255,8],[254,4,257,2],[254,11,257,9],[255,6,258,4],[256,6,259,4,"isScanning"],[256,16,259,14],[257,6,260,4,"scannerStatus"],[257,19,260,17],[258,6,261,4,"scannedBeacons"],[258,20,261,18],[259,6,263,4],[260,6,264,4,"currentPosition"],[260,21,264,19],[261,6,265,4,"isPositioning"],[261,19,265,17],[262,6,266,4,"positionError"],[262,19,266,17],[263,6,268,4],[264,6,269,4,"navigationRoute"],[264,21,269,19],[265,6,270,4,"isNavigating"],[265,18,270,16],[266,6,272,4],[267,6,273,4,"startScanning"],[267,19,273,17],[268,6,274,4,"stopScanning"],[268,18,274,16],[269,6,275,4,"navigateTo"],[269,16,275,14],[270,6,276,4,"clearNavigation"],[271,4,277,2],[271,5,277,3],[272,2,278,0],[273,2,278,1,"_s"],[273,4,278,1],[273,5,48,16,"useBeaconScanner"],[273,21,48,32],[274,4,48,32],[274,12,70,26,"useAppStore"],[274,26,70,37],[274,27,70,37,"useAppStore"],[274,38,70,37],[274,40,71,34,"useAppStore"],[274,54,71,45],[274,55,71,45,"useAppStore"],[274,66,71,45],[275,2,71,45],[276,0,71,45],[276,3]],"functionMap":{"names":["<global>","useBeaconScanner","useAppStore$argument_0","useEffect$argument_0","handleBeaconsFound","beacons.reduce$argument_0","handleStatusChange","startScanning","stopScanning","navigateTo","clearNavigation","<anonymous>"],"mappings":"AAA;OC+C;sCCsB,wBD;8CCC,2BD;YEG;GFE;yCGK;qCCO;KDK;GH2D;yCKK;GLG;oCMK;GNsB;mCOK;GPI;iCQK;GRsC;sCSK;GTE;YEK;WQC;KRE;GFC;CDuB"},"hasCjsExports":false},"type":"js/module"}]}